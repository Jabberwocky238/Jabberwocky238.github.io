<!doctype html>
<html lang="zh-Hans" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">è‡ªå»ºVPN+DNSå®ç°å†…ç½‘ç©¿é€å’Œç»„ç½‘ | JW238 Site</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://jabberwocky238.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://jabberwocky238.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://jabberwocky238.github.io/blog/2024/10/27/setting-your-own-vpn"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="è‡ªå»ºVPN+DNSå®ç°å†…ç½‘ç©¿é€å’Œç»„ç½‘ | JW238 Site"><meta data-rh="true" name="description" content="MDXç‰ˆæœ¬æ–‡ç« æ›´å¥½çœ‹ï¼Œè½¬è½½äºçŸ¥ä¹"><meta data-rh="true" property="og:description" content="MDXç‰ˆæœ¬æ–‡ç« æ›´å¥½çœ‹ï¼Œè½¬è½½äºçŸ¥ä¹"><meta data-rh="true" name="keywords" content="VPN,DNS,WireGuard,OpenVPN,bind9,named,frp,å†…ç½‘ç©¿é€,å†…ç½‘äº’è”,åŸŸå,ç«¯å£è½¬å‘,ç»„ç½‘"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2024-10-27T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/jabberwocky238"><meta data-rh="true" property="article:tag" content="zh,tech,golden"><link data-rh="true" rel="icon" href="/img/cometik.webp"><link data-rh="true" rel="canonical" href="https://jabberwocky238.github.io/blog/2024/10/27/setting-your-own-vpn"><link data-rh="true" rel="alternate" href="https://jabberwocky238.github.io/blog/2024/10/27/setting-your-own-vpn" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://jabberwocky238.github.io/blog/2024/10/27/setting-your-own-vpn" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://jabberwocky238.github.io/blog/2024/10/27/setting-your-own-vpn","mainEntityOfPage":"https://jabberwocky238.github.io/blog/2024/10/27/setting-your-own-vpn","url":"https://jabberwocky238.github.io/blog/2024/10/27/setting-your-own-vpn","headline":"è‡ªå»ºVPN+DNSå®ç°å†…ç½‘ç©¿é€å’Œç»„ç½‘","name":"è‡ªå»ºVPN+DNSå®ç°å†…ç½‘ç©¿é€å’Œç»„ç½‘","description":"MDXç‰ˆæœ¬æ–‡ç« æ›´å¥½çœ‹ï¼Œè½¬è½½äºçŸ¥ä¹","datePublished":"2024-10-27T00:00:00.000Z","dateModified":"2024-11-04T02:40:00.000Z","author":{"@type":"Person","name":"jabberwocky238","description":"WTF","url":"https://github.com/jabberwocky238","image":"/jw238_avatar.png"},"keywords":["VPN","DNS","WireGuard","OpenVPN","bind9","named","frp","å†…ç½‘ç©¿é€","å†…ç½‘äº’è”","åŸŸå","ç«¯å£è½¬å‘","ç»„ç½‘"],"isPartOf":{"@type":"Blog","@id":"https://jabberwocky238.github.io/blog","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="JW238 Site RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="JW238 Site Atom Feed"><link rel="stylesheet" href="/assets/css/styles.c530749f.css">
<script src="/assets/js/runtime~main.45965a31.js" defer="defer"></script>
<script src="/assets/js/main.67d02eec.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="è·³åˆ°ä¸»è¦å†…å®¹"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">è·³åˆ°ä¸»è¦å†…å®¹</a></div><nav aria-label="ä¸»å¯¼èˆª" class="navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="navbar__items"><button aria-label="åˆ‡æ¢å¯¼èˆªæ " aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/cometik.webp" alt="JW238 Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/cometik.webp" alt="JW238 Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">JW238</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blogs</a><a class="navbar__item navbar__link" href="/rust">ğŸ¦€Rust</a><a class="navbar__item navbar__link" href="/cheatsheet">cheatsheet</a></div><div class="navbar__items navbar__items--right"><a href="https://space.bilibili.com/86221452" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Bilibili<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/jabberwocky238/jabberwocky238.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS darkNavbarColorModeToggle_X3D1" type="button" disabled="" title="åˆ‡æ¢æµ…è‰²/æš—é»‘æ¨¡å¼ï¼ˆå½“å‰ä¸ºæš—é»‘æ¨¡å¼ï¼‰" aria-label="åˆ‡æ¢æµ…è‰²/æš—é»‘æ¨¡å¼ï¼ˆå½“å‰ä¸ºæš—é»‘æ¨¡å¼ï¼‰" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="æœ€è¿‘åšæ–‡å¯¼èˆª"><div class="sidebarItemTitle_pO2u margin-bottom--md">All my posts</div><div role="group"><h3 class="yearGroupHeading_rMGB">2024</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/11/02/zhihu-markdown-best-practice">markdownä¸Šä¼ çŸ¥ä¹æœ€ä½³å®è·µ</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/11/01/trojan-gfw">trojanä½¿ç”¨è®°å½•</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/blog/2024/10/27/setting-your-own-vpn">è‡ªå»ºVPN+DNSå®ç°å†…ç½‘ç©¿é€å’Œç»„ç½‘</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/10/07/Recursive-and-Loop-rust">rustä¸­å˜æ¢é€’å½’ä¸ºå¾ªç¯çš„å¿…è¦æ€§</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/10/06/ShinyColor-1">Animate girls, ShinyColors.</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/10/03/Build-tree-from-table-in-Rust">Build tree from table in Rust</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/09/30/Patience-and-Persistence">åšæŒä¸æ‡ˆ</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/08/26/what-people-will-not-tell-you-when-entering-TJU">å…¥å­¦å¤©æ´¥å¤§å­¦ï¼Œæ²¡æœ‰äººä¼šå‘Šè¯‰ä½ çš„ç§˜å¯†</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2021</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/mdx-blog-post">MDX Blog Post</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2019</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/long-blog-post">Long Blog Post</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/first-blog-post">First Blog Post</a></li></ul></div></nav></aside><main class="col col--7"><article><header><h1 class="title_f1Hy">è‡ªå»ºVPN+DNSå®ç°å†…ç½‘ç©¿é€å’Œç»„ç½‘</h1><div class="container_iJTo margin-vert--md"><time datetime="2024-10-27T00:00:00.000Z">2024å¹´10æœˆ27æ—¥</time> Â· <!-- -->å½“å‰æ–‡ç« é˜…è¯» <!-- -->0<!-- --> äººæ¬¡</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/jabberwocky238" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="/jw238_avatar.png" alt="jabberwocky238"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://github.com/jabberwocky238" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">jabberwocky238</span></a></div><small class="authorTitle_nd0D" title="WTF">WTF</small><div class="authorSocials_rSDt"><a href="https://github.com/jabberwocky238" target="_blank" rel="noopener noreferrer" class="authorSocialLink_owbf" title="GitHub"><svg viewBox="0 0 256 250" width="1em" height="1em" class="authorSocialLink_owbf githubSvg_Uu4N" xmlns="http://www.w3.org/2000/svg" style="--dark:#000;--light:#fff" preserveAspectRatio="xMidYMid"><path d="M128.001 0C57.317 0 0 57.307 0 128.001c0 56.554 36.676 104.535 87.535 121.46 6.397 1.185 8.746-2.777 8.746-6.158 0-3.052-.12-13.135-.174-23.83-35.61 7.742-43.124-15.103-43.124-15.103-5.823-14.795-14.213-18.73-14.213-18.73-11.613-7.944.876-7.78.876-7.78 12.853.902 19.621 13.19 19.621 13.19 11.417 19.568 29.945 13.911 37.249 10.64 1.149-8.272 4.466-13.92 8.127-17.116-28.431-3.236-58.318-14.212-58.318-63.258 0-13.975 5-25.394 13.188-34.358-1.329-3.224-5.71-16.242 1.24-33.874 0 0 10.749-3.44 35.21 13.121 10.21-2.836 21.16-4.258 32.038-4.307 10.878.049 21.837 1.47 32.066 4.307 24.431-16.56 35.165-13.12 35.165-13.12 6.967 17.63 2.584 30.65 1.255 33.873 8.207 8.964 13.173 20.383 13.173 34.358 0 49.163-29.944 59.988-58.447 63.157 4.591 3.972 8.682 11.762 8.682 23.704 0 17.126-.148 30.91-.148 35.126 0 3.407 2.304 7.398 8.792 6.14C219.37 232.5 256 184.537 256 128.002 256 57.307 198.691 0 128.001 0Zm-80.06 182.34c-.282.636-1.283.827-2.194.39-.929-.417-1.45-1.284-1.15-1.922.276-.655 1.279-.838 2.205-.399.93.418 1.46 1.293 1.139 1.931Zm6.296 5.618c-.61.566-1.804.303-2.614-.591-.837-.892-.994-2.086-.375-2.66.63-.566 1.787-.301 2.626.591.838.903 1 2.088.363 2.66Zm4.32 7.188c-.785.545-2.067.034-2.86-1.104-.784-1.138-.784-2.503.017-3.05.795-.547 2.058-.055 2.861 1.075.782 1.157.782 2.522-.019 3.08Zm7.304 8.325c-.701.774-2.196.566-3.29-.49-1.119-1.032-1.43-2.496-.726-3.27.71-.776 2.213-.558 3.315.49 1.11 1.03 1.45 2.505.701 3.27Zm9.442 2.81c-.31 1.003-1.75 1.459-3.199 1.033-1.448-.439-2.395-1.613-2.103-2.626.301-1.01 1.747-1.484 3.207-1.028 1.446.436 2.396 1.602 2.095 2.622Zm10.744 1.193c.036 1.055-1.193 1.93-2.715 1.95-1.53.034-2.769-.82-2.786-1.86 0-1.065 1.202-1.932 2.733-1.958 1.522-.03 2.768.818 2.768 1.868Zm10.555-.405c.182 1.03-.875 2.088-2.387 2.37-1.485.271-2.861-.365-3.05-1.386-.184-1.056.893-2.114 2.376-2.387 1.514-.263 2.868.356 3.061 1.403Z"></path></svg></a></div></div></div></div></div></header><div id="__blog-post-container" class="markdown"><p><a href="https://jw238.site/blog/2024/10/27/setting-your-own-vpn" target="_blank" rel="noopener noreferrer">MDXç‰ˆæœ¬æ–‡ç« </a>æ›´å¥½çœ‹ï¼Œè½¬è½½äº<a href="https://zhuanlan.zhihu.com/p/3446441267" target="_blank" rel="noopener noreferrer">çŸ¥ä¹</a></p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>æç¤º</div><div class="admonitionContent_BuS1"><p>å¦‚æœä½ åªæƒ³è¦å†…ç½‘ç©¿é€ï¼Œç›´æ¥çœ‹ <strong><a href="/blog/2024/10/27/setting-your-own-vpn#%E4%B8%80%E5%89%8D%E6%83%85%E6%8F%90%E8%A6%81">å‰æƒ…æè¦</a></strong> é‡Œçš„ <strong><a href="https://github.com/fatedier/frp" target="_blank" rel="noopener noreferrer">Frp</a>å†…ç½‘ç©¿é€</strong> éƒ¨åˆ†å³å¯ï¼Œå¦‚æœä½ æƒ³è¦ç»„ç½‘ï¼Œå¯ä»¥åªçœ‹ <strong><a href="/blog/2024/10/27/setting-your-own-vpn#%E4%B8%89wireguard">WireGuard</a></strong> éƒ¨åˆ†ã€‚</p></div></div>
<p>æœ¬ç¯‡æ–‡ç« æ¶‰åŠäº†è‡ªç»„ç½‘ï¼ŒVPNï¼Œå†…ç½‘ç©¿é€ï¼Œå†…ç½‘è®¾å¤‡äº’è”ï¼Œè‡ªå®šä¹‰åŸŸåè§£æï¼Œç«¯å£è½¬å‘ç­‰å†…å®¹ã€‚</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä¸€å‰æƒ…æè¦">ä¸€ï¼Œå‰æƒ…æè¦<a href="#ä¸€å‰æƒ…æè¦" class="hash-link" aria-label="ä¸€ï¼Œå‰æƒ…æè¦çš„ç›´æ¥é“¾æ¥" title="ä¸€ï¼Œå‰æƒ…æè¦çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>ä¸Šæ¬¡æˆ‘å¬è¯´VPNè¿˜æ˜¯åœ¨åšè¿æ³•çš„äº‹æƒ…çš„æ—¶å€™, å®é™…ä¸ŠVPNå…¨ç§°ä¸ºâ€œVirtual Private Networkâ€, æ˜¯ä¸€ç§é€šè¿‡å…¬å…±ç½‘ç»œå»ºç«‹ç§å¯†ç½‘ç»œçš„æŠ€æœ¯ã€‚è™½ç„¶è¿™ä¸ªè¯è¢«å¤§å®¶ä¹±ç”¨ä¸ºç¿»è¿‡GFWçš„å·¥å…·, ä½†ç»†æ•°ç°åœ¨æµè¡Œçš„å·¥å…·, æ¯”å¦‚clash, v2ray, trojan, ä»–ä»¬çš„ä¾§é‡ç‚¹éƒ½åœ¨ä¼ªè£…ã€‚è€Œçº¯è¡€VPNåªéœ€è¦è€ƒè™‘åŠ å¯†, è¿™ä¹Ÿæ˜¯æˆ‘è¿™ç¯‡æ–‡ç« ä¸»è¦è®¨è®ºçš„å†…å®¹ã€‚</p>
<p>æˆ‘è‡ªå»ºVPNçš„åˆè¡·å¹¶ä¸æ˜¯ç¿»GFW, è€Œæ˜¯æˆ‘è‡ªå·±æäº†ä¸€ä¸ªè¿·ä½ ä¸»æœº, ç±»ä¼¼nas, ä½†æ˜¯ä¾§é‡è®¡ç®—ã€‚æˆ‘æœ‰ä¸¤å°äº‘æœåŠ¡å™¨, ä»¥å‰ç©MCå‰©ä¸‹çš„, ä½†æ˜¯å¾ˆæ˜¾ç„¶, è¿™ä¸¤å°äº‘æœåŠ¡å™¨å‚å‚è€çŸ£, æ»¡è¶³ä¸äº†æˆ‘çš„éœ€æ±‚, è€Œä¸”å¤ªè´µäº†ã€‚<strong>è…¾è®¯äº‘, ä½ åœ¨åƒäººè‚‰</strong>(äºŒæ”¹ï¼šè…¾è®¯äº‘çœŸä¾¿å®œï¼Œé˜¿é‡Œä½ åœ¨åƒäººè‚‰)ã€‚</p>
<p>æ‰€ä»¥æˆ‘å€ŸåŠ©ä¸¤å°äº‘æœåŠ¡å™¨è‡ªå¸¦çš„å…¬ç½‘IP, å°±æƒ³å…ˆåšä¸ªfrpå†…ç½‘ç©¿é€ã€‚å½“ç„¶, <a href="https://github.com/fatedier/frp" target="_blank" rel="noopener noreferrer">frp</a>æ˜¯éå¸¸ç®€å•çš„, å°å­¦ç”Ÿæ°´å¹³, ä½ çœ‹ä¸¤çœ¼å°±èƒ½è‡ªå·±é…å‡ºæ¥ã€‚</p>
<div class="language-conf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">frps.toml</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-conf codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">bindPort = 7000</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-conf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">frpc.toml</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-conf codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">serverAddr = &quot;x.x.x.x&quot;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">serverPort = 7000</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">[[proxies]]</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">name = &quot;mcs&quot;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">type = &quot;tcp&quot;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">localIP = &quot;127.0.0.1&quot;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">localPort = 23333</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">remotePort = 23333</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>è¿™æ ·ä¸¤ä¸ªæ–‡ä»¶ç›´æ¥å°±èƒ½æŠŠå†…ç½‘çš„mcsmanagerç®¡ç†å¹³å°é€å‡ºæ¥, å…¬ç½‘å¼€ä¸ª23333ç«¯å£å°±è¡Œäº†ã€‚ç±»ä¼¼çš„æ“ä½œ, æš´éœ²æ¸¸æˆ25565ç«¯å£ä¹Ÿæ˜¯æ˜“å¦‚åæŒçš„, é€udpä¹Ÿåªæ˜¯æ”¹å‡ ä¸ªå­—çš„äº‹ã€‚</p>
<p>ä½†æ˜¾ç„¶, è¿™æ ·åšä¼šå¯¼è‡´<strong>å¾ˆä¸¥é‡çš„å®‰å…¨é—®é¢˜</strong>, ä½ ç®¡ç†å¹³å°æ˜¯æš´éœ²åœ¨å…¬ç½‘çš„, åˆ«äººéšä¾¿ç‚¹è¿›æ¥å°±èƒ½ç”¨, å¾ˆå®¹æ˜“è¢«æã€‚å¦å¤–, è¿™æ˜¯æ¸¸æˆæœåŠ¡å™¨, è‡ªå·±ç©ä¹Ÿå°±è¿˜å¥½, å¦‚æœæ˜¯ä¼ä¸šçº§çš„éœ€æ±‚å‘¢ï¼Ÿå®¶åº­éœ€æ±‚å‘¢ï¼Ÿç§å¯†åº¦æ›´é«˜çš„æ•°æ®å‘¢ï¼Ÿäºæ˜¯æˆ‘æƒ³åˆ°äº†æˆ‘çš„æ ¡å›­ç½‘ã€‚</p>
<p>å¤©æ´¥å¤§å­¦çš„æ ¡å›­ç½‘å¯ä»¥ç”¨easy connectè¿è¿›VPN, ç„¶åè®¿é—®å†…ç½‘è®¾æ–½ã€‚æˆ‘æƒ³çš„å°±æ˜¯ç±»ä¼¼æ“ä½œ, è‡ªå·±å»ºä¸€ä¸ªVPN, è¿è¿›æ¥æ‰èƒ½è®¿é—®mcsç®¡ç†ç•Œé¢å’Œå…¶ä»–ä¸œè¥¿ã€‚äºæ˜¯æˆ‘å¼€å§‹æ²¿ç€è¿™ä¸€æ¡è·¯èµ°åˆ°é»‘äº†ã€‚</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="äºŒopenvpn">äºŒï¼ŒOpenVPN<a href="#äºŒopenvpn" class="hash-link" aria-label="äºŒï¼ŒOpenVPNçš„ç›´æ¥é“¾æ¥" title="äºŒï¼ŒOpenVPNçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>é¦–å…ˆæƒ³åˆ°çš„æ˜¯IPsecå’ŒPPTP, å› ä¸ºè¿™æ˜¯AIå‘Šè¯‰æˆ‘çš„æŠ€æœ¯, ä½†æ˜¯ç»è¿‡ä¸€ç•ªæŸ¥æ‰¾, æˆ‘å‘ç°é‚£ç©æ„å·²ç»è¿‡æ—¶äº†, ä¼¼ä¹ä¹Ÿæ‰¾ä¸åˆ°ä¸€é”®å¯åŠ¨çš„è„šæœ¬, äºæ˜¯æˆ‘ç»§ç»­æ‰¾, æ‰¾åˆ°äº†å¤§åé¼é¼çš„<a href="https://github.com/OpenVPN/openvpn" target="_blank" rel="noopener noreferrer">OpenVPN</a>ã€‚</p>
<p>è¿™ä¸ªç©æ„æ˜¯å…¸å‹çš„C/Sæ¶æ„, ç†è§£èµ·æ¥ä¸éš¾, å°±æ˜¯é…ç½®æ¯”è¾ƒæœ‰æ—§æ—¶ä»£é£æ ¼, å¯ä»¥çœ‹åˆ°è¿™ç©æ„æ˜¯Cè¯­è¨€å†™çš„, é…ç½®ä¹Ÿæ˜¯è¶³å¤Ÿçš„GNU styleï¼ˆ<strong>çº¯è„šæœ¬å’”å’”å¹²å•Š...</strong>ï¼‰</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>æç¤º</div><div class="admonitionContent_BuS1"><p>æ¥ä¸‹æ¥æ‰€æœ‰æ“ä½œç³»ç»Ÿéƒ½åŸºäºubuntu20.04</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-init">1. init<a href="#1-init" class="hash-link" aria-label="1. initçš„ç›´æ¥é“¾æ¥" title="1. initçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo apt update</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo apt install openvpn easy-rsa</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>æˆ‘çš„ä¹ æƒ¯æ˜¯æŠŠé…ç½®æ–‡ä»¶å…¨éƒ½è½¯è¿æ¥æå‡ºæ¥ç”¨vscodeçœ‹, æ¥ä¸‹æ¥å°±æ˜¯å®ç°è¿™ä¸€æ­¥.</p>
<p>æŠŠeasy-rsaå…¨é€å‡ºæ¥:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo ln -s /usr/share/easy-rsa ~/easy-rsa</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo chmod -R 0777 ~/easy-rsa</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ubuntu@VM-4-2-ubuntu:~/easy-rsa$ ll</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">total 28</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">easyrsa -&gt; /usr/share/easy-rsa/easyrsa</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">vars.example -&gt; /usr/share/easy-rsa/vars.example</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>è¿™é‡Œåªæœ‰varså’Œeasyrsaéœ€è¦ç”¨åˆ°, åˆ«çš„å®Œå…¨å¿½ç•¥å³å¯.</p>
<p>ç„¶åå¤åˆ¶ä¸€ä»½var, ç°åœ¨è·Ÿç€æˆ‘å¡«è¡¨å³å¯, å†…å®¹ç…§æŠ„å³å¯:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo cp ~/easy-rsa/vars.example ~/easy-rsa/vars</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo vim ~/easy-rsa/vars</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">set_var EASYRSA_CA_EXPIRE	3650</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">set_var EASYRSA_CERT_EXPIRE	1080</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Choices are:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#   cn_only  - use just a CN value</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#   org      - use the &quot;traditional&quot; Country/Province/City/Org/OU/email/CN format</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">set_var EASYRSA_DN	&quot;cn_only&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">set_var EASYRSA_REQ_COUNTRY &quot;CN&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">set_var EASYRSA_REQ_PROVINCE &quot;Beijing&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">set_var EASYRSA_REQ_CITY &quot;Shanghai&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">set_var EASYRSA_REQ_ORG &quot;fuck&quot; # ç»„ç»‡å</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">set_var EASYRSA_REQ_EMAIL &quot;fuck@fuck.com&quot; # é‚®ç®±</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å…¶ä»–é…ç½®æˆ‘ä¹Ÿæ²¡åŠ¨,åŸºæœ¬ä¸Šä¸é‡è¦. æ¥ä¸‹æ¥æŒ‰æµç¨‹æ•²å‘½ä»¤å³å¯,é‡Œé¢ä¼šæœ‰äº¤äº’,æ³¨æ„æ³¨é‡Šè¯¦è§£.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># åˆå§‹åŒ–pki (Public Key Infrastructureï¼Œå³å…¬é’¥åŸºç¡€è®¾æ–½ï¼Œå®ƒæ˜¯ä¸€ä¸ªç”¨äºç®¡ç†å’Œåˆ†å‘åŠ å¯†å¯†é’¥çš„ç³»ç»Ÿ)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo ./easyrsa init-pki </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># ç”Ÿæˆcaè¯ä¹¦ï¼Œç±»ä¼¼httpsçš„sï¼Œç”¨äºéªŒè¯æœåŠ¡ç«¯èº«ä»½</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># ä¸€ç›´å›è½¦ï¼Œç”Ÿæˆca.crtå’Œca.key</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo ./easyrsa build-ca nopass </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># ç”Ÿæˆdhè¯ä¹¦ï¼Œæˆ‘ä¸çŸ¥é“ç”¨æ¥å¹²å˜›çš„</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> # ä¸€ç›´å›è½¦ï¼Œç”Ÿæˆdh.pem</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo ./easyrsa gen-dh</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># ç”ŸæˆæœåŠ¡ç«¯å¯†é’¥å¯¹</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># ç”Ÿæˆ pki/issued/vpn-server.crt å’Œ pki/private/vpn-server.key</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo ./easyrsa build-server-full vpn-server nopass </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># ç”Ÿæˆå®¢æˆ·ç«¯å¯†é’¥å¯¹ï¼Œæ¯æ¬¡æ´¾å‘ä¸€ä¸ªæ–°çš„å®¢æˆ·ç«¯éƒ½éœ€è¦åˆ¶é€ è¯ä¹¦ï¼Œä¹Ÿå¯ä»¥ç›´æ¥å¤ç”¨åŸæ¥çš„è¯ä¹¦</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># ç”Ÿæˆ pki/issued/vpn-client.crt å’Œ pki/private/vpn-client.key</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo ./easyrsa build-client-full vpn-client nopass</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>æŸ¥çœ‹ pki/issued/ å’Œ pki/private/ ,ä¼šå‘ç°å¤šäº†è¯ä¹¦å’Œç§é’¥å‡ºæ¥ï¼š</p>
<p><img decoding="async" loading="lazy" alt="alt text" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUEAAAEBCAYAAADmVhddAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAABhaVRYdFNuaXBNZXRhZGF0YQAAAAAAeyJjbGlwUG9pbnRzIjpbeyJ4IjowLCJ5IjowfSx7IngiOjMyMSwieSI6MH0seyJ4IjozMjEsInkiOjI1N30seyJ4IjowLCJ5IjoyNTd9XX0cJ/+3AAAgmklEQVR4Xu3dfWxb530v8G8iyy84gWwhuohgRANMXiTUhrI3iazOgQPwKoUR3AmoWA8QkCDoArpA7GDS6jJum2IyY9w07coqoIbaXSutHXJhgMASsgD7j4aqBGZkm8IGdwxaGclIG1aQKIvudaP6xHYN4d7nOS/kcw4piXqzRD3fT3FiHvLw8NCAv33eeH73dHZ2/j8QETW5+++/Hzdu3HD2Gnev8ycRkZYYgkSkNYYgEWmNIUhEWmMIEpHWGIJEpDWGIBFpjSFIRFrbUSEYG8shNxZz9uo4kUIul0aiz9knIu2xJUhEWtv4EAzFkHxtCI8bzv4yjC++hAt/8yxCzv6mGx9Gf/8gElPOPhFpb8ND0LgxhxsdxxD/wfJBaHwxjrFTj+O+Tz/GrPMcEdHdtuEhaH7wCyS+dgFFY+kgtAMwgt2/HsPzr0zCdJ5fUl8CaWssL4LExRxyOWdbbvxPiIykrePSIxH7CWtMMIXl30VEOtmcMcF5EYTPj9UNQrcFiH9pMAArDPScPim6tP2iSyu3DEqB6NJBKAIv3gsURvsxeC7vPElE5LV5EyPmZE0QGkeGkLQC8EcY+v5qAtBWyqrjeRMYzpaAQLi2ZSdbfANB3/FERLU2LwQlJwgLe2UQppB8UXRLf5VcUwCKk+F62XnoKl8Xz3aiS13y0nEMaSsA+zE87jxHRLSEzQ1BSQThd14QQdjaiT+IAIz/7VtrCMDV6zzojAMSES1j80NQkkEYG8TwBgdg5Gg3jIUZ5NUu7/wkBkcLQG+8OiFCRLSEuxOCG0JOjCgzu30JnOw1YF7Oo2baYyrBICSihjRRCJooZK/jmLs85nQPMJ1ceuZXBmG2BEMEYe5iAoxCIqqnOQotyXWCp7sxM8rZXiKqj4WWiIjWgCFIRFpjCBKR1lh8nYh2BI4JEhGtAUOQiLTGECQirTEEiUhrDEEi0hpDkIi0xhAkIq0xBIlIawxBItLa9glBw0ADpYqJiDbUNgnBEGKv/j1efy129wqxb5VmLPtplTzNIXXC2V+RXRqVN7SlZrBNQvAyJs7nUD4YxXd0CEIi2ja2T3f48uuIn01bQfhy8tltFoQxpFbVEtph5F26+1m9j3am7TUx4gThbNfgNgxCItqJtuettELPIvnyIB4oTeCVlzKis7wacjwqjp42Z1dQaxBHRtKI91anYDz1id3b+Gdn0D3QAwMlZLJAdCDoHGCrvMcp8l5RzqB/aMLZWYL1HiDTX0Q4F4X7brNSL8W+/u7L/vopsjUaBRqopxwbyyEacHaE2u8ov5vDc83uZ2cwE4paf4fWe8u15Q38f4/V65eW+g5Em2dn3UrLahFO4FpXDN/+9moG12VQiACcF/+wRffN2rIl5zXnH25oBkn3tdECOgf83VwDPX3ABeuYYUyMD4s/MyIO7UCQ77MCRYbJQCcKo865nGMaE0Q0F0ZRuY5qZbw88pdNGKGIiBLFibB4VwnFFQJQfsdoR6H6HZXvX63V4rzWn0ShI4rcmHeaxug9Bozbx9QP3Jj4jEnnHGJzrl/b4QJqatszBBWG8YDzaGWRkWMILogAUFtjIsTsf8jiH24vUBhPVEt0TiUwWRaRFPaGQEk8v2L7JdAu4nIOs5XCTxMYXqkVWGGK8BQB6+zJ67gwXQ2+/LlJlNq6ERFh7IqFg6K1lam+ZwnBDtE6m5+tXn/l+4tziNYtpi8oxary4rEIyUBY/O0oypMrFLTyfdepPGYWWPCemtP2DEHRFXvl2zF0X8/gpZfSzpMrkwFQtw6x1NeFTtnKO+2U7HQ2tdtoM3FdBOOKxjMoLMgW3VqWgqjhact/OAe0tTvd4wkUywa6j7rnjSEcMDFzaeWu5US2ADMgWne5NBJKiMoualeHbOXFPd/f0513mPONtGntySL7PN7hB6Jmsv1CUA1A0dpY3XjgSkrIuF04dWu4BacSrain5fszmHOCZSPXxU0US9UusewKr9g6czgzuf3ZOSfwvWHodum9m9IqbYDscuec8Un7/aJbLVqCRM1oe4XgOgOwNF9nLM01NSvaX0GEN3zcSnQNRRAkle7sWsjuLsrFahjJlibsLrF8rVRcZVBbY5kynNwWZR6z87Vd/9UT3zEkWtzTySXGC4may/YJwQ1oAdpjaT2IqwP9J1LOgL3sYooQGPD+WiMykvJ1G+sp4bp/zKty3rUQ3eiLiWpginPJbrk36OQECUSAJURXeOUJEVdsbOlfo8jWJURX2XPdfQmkVtWCtcPU6Kh2oyMjJ9kdpqa1TULwAcT+UgZgDi9/az1dYNkqy6BkjYm5Y16oBMjEUD8yZXscz3093lFsoJtpTyC442luiAQHlPPIWeenG5hQsYhu+VQ74s575bicZxmLI39pBujtQWcDEyJV6vfzLVORrcNsyXPdudPtKK5yGcvEkPfv+CQm2R2mprV91gka7WjHdVw3nX1SlrRU1+cRUX1rXSfIusMbzL+IuEoui1ldmFXWNaotTP9iZ4V3wTKRXhiCO07jvxAhIhZf31Hkz97kEpROzsASbTq2BIloR2BLkIhoDRiCRKQ1hiARaY0hSERaYwgSkdYYgkSkNYYgEWmNIUhEWmMIEpHWGIJEpDWGIBFpbWeFoLzNVM5fQnObsa7RXwSJiLYKW4JEpLWtC8FQDMnXhvB4vbuD+hhffAkX/uZZhJz9JTmV1nj7KSJq1JaFoHFjDjc6jiH+g+WD0PhiHGOnHsd9n36MWec5IqKNsrX3E+z4MyReO4mwOYnk18fwlq++iB2AEez+9Rief2USK5YfqVOTQ96gVC2wXi1oFEHiolo0vHr7e+u29h2T3nrEdet92Hd/rtRdWyjUFFvy3m5ffEZ2Bt0DrBtCtNGa836C879A4vkxFI3aFqHbAsS/NBiAdcgAinaIYHKLjGdLzisyHEUAzmec4uGybvCc80qjqre/d8+Rme9BXCmlaQfgnFLwfRLtA/XrgxDR1tj6iRHRCvQHoXFkCEkrAH+Eoe+vLQClYIc42fxstWU2PlxpBXZ1iI+er4Zi/tzwKosgHUOwnPGMP05kCzDb7ILpMiSjogVYyg4r5TInMDwqjnH2iGjrbY/ZYScIC3tlEKaQfFG0pX6VXFcASlYoWfVx/UtS1DrCSxcrX44VsGp9Y7mpVeD6utCJxoumE9HW2B4hKIkg/M4LIghbO/EHEYDxv31r/S0mZ7a4PzuHntMyqJQwlIXIxWvJ6U6nWPnqw1CWuHS7wtWNY31EzWT7hKAkgzA2iOGNCECVFXhJFBYMdB91R+xs+XOD4rWMaLMFEVYXWXd0Vcb2LIF2z1head6EEYp4j6nhO6fkOw8Rba3tFYIbLDa2VOsugsRYdQLDL39pBmZbD6KVAIshNVCZA7a4x5wcUc8ijhtzPlG0QifLIgYH1GuoPQ8Rba2dVXLTt4zFvzxGdl8Hz8lpEv/yGHXpjM27tKWEzOh1HPMvkbE+T53trS6zcXmvYYnzENG6rXWJDOsOE9GOwLrDRERrwBAkIq0xBIlIawxBItIaQ5CItMYQJCKtMQSJSGsMQSLSGkOQiLTGECQirTEEiUhrDEEi0lpTh6ARYoYT0fo04V1kWhA480fof+wA9sjdxZso/1MJb/z0jvUqEelJm7vIHDwTxHEZgLcWcG12ASb2IfDUwzj+zMZ9FXkPwJx7c1TB2leqyBHRztFkIWjgcNgAzI+QPlVCOl7C+bNX8CFaETiyH/udo4iIGtVkIXgv9raKPz4xcc0tQvL+Z/j49+LPvbvs7vEmmBjqR7+vqPr6ybtb55D23J5/Y8i7YrPlStQYziwQkdaaZGKkFU+kHsIjB+7BHtkUXLyD23eql92ydzd2YRG3by0CV69i7GwjteqWrjNi1QVBBv1Ddtl0/77krUHiq1FSqXUyifbTUbillSo1Tmpqk6j1T/xWvs6M+K+sY2JO/wIzoT/zHIuFApIb3ool2n52+MSICD9jtx2AUkureCz37W2X/aSz38hXiiGVE8EyL4LNrRecLTmvrcwKwNAMku57RwvoHMgh5SmvaaDndBhF5fxG70m77rFVD1mWALXDT75ePwAbuM5AFOGi/drguQtIPC1rKYv/E5DhJ49nABItS8vucGTkGIIyJJSWnaxNrFabW1oM0V6gMK6Ei1teM+wt8FnKDqPyCeOZunWPl9PQdYrXMw1dNxHVo2UIBjsMmJfza2sh9XWh02rl5ZDLVTe1tKfNxHURjOvR0HXOz7KlR7QOnBhZkxIybvdU3dQWGxE1BS1DsDRvwghF1raEZGoWcwgi7Bn/2xzruk4iaoiWIZg/N4lSWw/iyq9CcCLlm9hYygSKcvxvIAV1BDAykrInPRqWx+w8YHS4c8eSnAiprh1c63XmP5wD2tors9JEtLQmCcE/4J+TRfz4lQa2v5Mrp1cygeH+DEqBaHVcbwAoNjjBIBdPZ8pBRN33ii3eUURiyjmgQRPZAkznGuovml7jdVqTMM71cdE00bKa8AYKRES1tLmBAhHRRmIIEpHWGIJEpDWGIBFpjSFIRFpjCBKR1hiCRKQ1hiARaY0hSERaYwgSkdYYgkSkNYYgEWmNIUhEWmvqEDRCzHAiWp8mvJVWCwJn/gj9jx2wi60v3kT5n0p446d3rFeJSE/a3Err4JkgjssAvLWAa7MLMLEPgacexvFn2CokotVrsuQwcDhsAOZHSJ8qIR0v4fzZK/gQrQgc2Y/9zlFERI1qshC8F1b99U9MXDPtZ/D+Z/hY3lF/7y67e0x12LVLGquhQqQX9iGJSGtNMjHSiidSD+GRA/dgj2wKLt7B7TvVy27Zuxu7sIjbtxaBq1cxdtZtJi4tNuYtmF7K9mO4UsBItpyi1WptCwUkn05Uipxb70VG/C9qncMsl4HAA5gZHfQWWzqRsgojZfqHYVUk7ksgfbpHdOod5YxSqziCxMU4ui9nMBOKoqfNf00K67xKLTn3+qzzd2MmO4PuAfk5JWSyQFQ9VljyvERNbIdPjIjwM3bbASi1tIrHct/edtlPOvsrf6XISBrRDhEcbtH0bMl5RbIDECIo3KLqmfkexP1V2wJRhIv264NDb2JmwUD3UfUIEWp9QZjTGSUARUCNuudNotARRU4tpykYvceAcfuYekElrz030ImCep5550WLgZ4+4IL1mgjf8WHxZ0bEoR1+S52XSFdadoeDHaItNj9badlBBIUbDJGRYwiKFpoaFFZpzLZuRNS6wqL1lakck0f+sq9Qel8E3W0mZi7ZnxITLTNMX1BainnxWERTIOypX4zy5DKlO2OI9or2XVZtcYrzDFVbqVJpyrtPREvTMgSr9X7TNQXTrYBU6/zKTe3CutQQFexC6dWgjBzthlEJtAi6OmQrL+49r6+bKpnzaqvUp68LnaJNt3zdYRPXRe+ciBqj58SIaCkNyu5idg49p2UgecPQnE46XU1184331ZhAsex2iUWLMCRabEV3vM/mdke9mzNeSERbQs8QdFnjZUkUlPG80ryvW7sKE8WS/V6rK6y22PKYnRetzLB3/G/VpmYxhyDCXOpCtGG0DMHYWMo7DqfIX5qB2daDkyNqDMaQ8k1g1DWeQQHdiA50A+6EiEMGpOxme9bq9SWQ8nxOLWsiJOde7wQy0yaCA2rLNYLEmG/SpkYJ1xeAzoNriXaina1pfju8J9SCvbudneXcWMSnK4yJ+ZfHyO7v4DllhM+/lAUmCsryF3eJTHV5S5UMrXgvPMdX+Je2yCUsle6wu0TGey32+eaU49znlKtzr78yA738Z3OJDO1Ea10i04Q3UCAiqqXNDRSIiDYSQ5CItMYQJCKtMQSJSGsMQSLSGkOQiLR2zxe+8ASXyBBR07tx4/9yiQwR0WoxBIlIawxBItIaQ5CItMYQJCKtMQSJSGsMQSLSGkOw4lGc+t5r+OG3vuTsE5EOGIJEpDX+YmQTHX7+O/iLQ1fws2/8BG87zxHR5mi+X4wc+hLi3xjEf9vn7C9j35Hn8Nen/wcOOftERBtly1qC+x44iuf+6jgeuvmv+Nn30/jfN50XfPYdeRbfGnwUrb9N49yP/xVLHGbr/SqSXzmE8j/8I3D8WfzJfc7zH+Txwqs/d3aAL3/rNTyJPH6JCJ58ELj57uuI/wg49b1nEbjif/yO8y7pS/jmDyPA1Nfw3Teclt7nqilun0ceL8cXlc+Xbvy22iK0rvOPUXmn7/qIaPWariV48+NLOP+9N/Devj/FX7xYv0W4qgCs2Ic/+cqfA298DS+8ILc8Zh+M1E54iOcees8+xht00jt4+8pN7Dv0GA47z0iHn/8CukSY/VIEoAzEJ9v/zfkMsf3Db4HPPYtvHpevvYPz3/gafvauuGIZfvJ1TwDKoHbe98Lr+M2BOtdHRHfF1k6M/E4E4bl03SC0A/BzwL+vJgBts1Mv4fy0s4Of47tTH4jQ+6/4svOMpRJm9b39zhXcvO8QDvc6T4jW3eFD+3Dzyq+d8T1xXrX1Nv1rlMX/CXX8l0edJ+r78pN/DLz7j8r1icCcrnN9RHRXbP3ssOgO+4Nw3+cHEbcC8E28+tPVBaA4IRZmnYeu2QXx7P3orASa8Lv/XH6yYvoneOuDfQg86oRa72MI3PcB3qrpHr+GH1qbr/tb16PoPCC+n2gx2u9xtj7RJyeiLbE9lsg4QfibPTIIv474c4+JEPpfawjAjfXmex9UusSHHz2EfR/8B960X7LGA3/ojA9WurUNDkfMVt6jbj+onJuI7p7tEYKSCMKf/E8RhLvuxx0RgMmLxQ0LQCvAblzB25UuaIPe+A/MWl1iuys8+57b/XW6xu++bk2QNO4dzP0O6HqI439E28X2CUFJBuHIS/juugJQTox8vTq+1vtVDH5OHctbjZ/jl+8CgSf/OwJQxxDtMNvX3uXsy5bhn9d0h9/+5P8A97WhepTdupSTMvYEikNc4zefX34skYg2x/YKwQ1xE7+ZWsDj7njbV+REhH+pS+PkBAkefBDwheibrzqzzs7nDOLfarvDb/xKPPcgnpTHfO+r9kzzGz/AC1MfoKvPuT7rGtvw3hqvj4jWZ2f9YqSy/ESdHSYiHbDGCBHRGjAEiUhrDEEi0hrvIkNEOwLHBImI1oAhSERaYwgSkdbu6ezs3PIxwUgkgnw+7+wREa3e/fffzzFBIqLVYggSkdYYgkSkNYYgEWmNIUhEWmvqEDRCzHAiWp8mTJEWBM4cwlD6EZx6+fN48WIIx59rdV4jIlqdpgvBg2eCOP7YAey5tYBrswswsQ+Bpx7G8We26qtEkLiYQ3ok4uwTUTNpshA0cDhsAOZHSJ8qIR0v4fzZK/gQrQgc2Y/9zlFERI1qshC8F3tlz/cTE9dM+xm8/xk+/r34c+8u7LGfISJqWBOOCRIRbZwm+e1wK55IPYRHDtyDPbIpuHgHt+9UL7tl727swiJu31oErl7F2Fm3mbgcOZYXR0+bsyuUsv0YHpePYkjloghaz0olZPqHMeHsednn6b6cxOA5+zvExnKIBtTzVZ+zmSiMDiIxJR6eSCE3gJrzR0bSiIdmkHw6Af6qmmhlO/y3wyL8jN12AEotreKx3Le3XfaTzn4jX0mGnAjA+Qz6+/vtLVtyXpMBFMb1Ued5sWXKQUQvJkTcrUyGVzQgQ9MXgFA/aw49p9NI9IkXx4siYoMIn7CPtUUQCRkwL+cZgESbTMvucGTkGIILBSSHlLbX+HAltPLnhu1WmmOiKAKyrV1pGdZntd56IVp5SquuL4FjMhQ9n5VBYcFA91EZqxPITJsIhmP2a1JfBN1tJUw6LUsi2jxahmCwY+VWlgy0XC5nbwMrxZ8QOukEoNPNdQXaYYj4jLrnsjZvNzx/aQZmICzap7bI0W4Y5eIS3W8i2kicGKkhu8o5ezyu0n2tdpWXYojNFP9tr4z7KWSr0z2XsrljiJjKY2bB7RLLrrAI0ywjkOhu0DIES/MirkIibJx9jxNh0W4T3ddVTkiYly9gUIRlcCCHlDq+V74Os60bETn+t6S8aD2K98ousewKYwZ5tTVJRJtGyxDMn5tEqa0H8TFlHO5Eyg4vGVroRFcltETL0NcdlhMduXoTJePDVqvRE4RWK89Azwnv8bGxVKX7a5ETJKJLnBBdYXBChOiuaZrb6+8JtWDvbmdnOTcW8WnZebyspZfB2BMcsoMrieezQFRZxmLN9naILq7VWqxdIlN5fzmDfmtCpHY5jjldPd5lL6OpXgcRNW6tS2RYY2QbqSylUWeSiaghrDHS9GIIywXWRQYg0d3EENwm3LWLGWetIhHdHQzBrdaXQFouyemdW/WMNBGtH8cEiWhH4JggEdEaMASJSGsMQSLSGkOQiLTGECQirTEEiUhrDEEi0hpDkIi01tQhaISY4US0Pk2YIi0InDmEofQjOPXy5/HixRCOP+cUYCIiWqWmC8GDZ4I4/tgB7Lm1gGuzCzCxD4GnHsbxZzbuq1g3TVVuuLrkTVQ3m/W7YqcqHRFtiiYLQQOHwwZgfoT0qRLS8RLOn72CD9GKwJH92O8cRUTUqCYLwXthlR7+xMQ1t776+5/h49+LP/fuwh77mQ03MdSP/g2/w4u823QO6ZG73r4kIkUTjgkSEW2cJrmVViueSD2ERw7cgz2yKbh4B7fvVC+7Ze9u7MIibt9aBK5exdhZt5m4nNq6H6Vsv1WA3X+b+3q3vffWIam+1yLH8k53Y2Z0Eu2nq3VMKnVFrNd7rDKdrno1R6rncWsZu3VRvHVIrOurlPo0q7WPT6SQU2qjuKxrlyVFef9C2kF2+K20RPgZu+0AlFpaxWO5b2+77Ced/Ua+kgwTEYDzItjcOsAN1BZ2VULEfe9oAZ3+Upsi4npOh1FUzm/0nrQnOaYSGOxPorBgh5+nBvGSZGiLAJTFm/wBKAO68jlz4nOdyRRZwU5Epl3P2CXrGq9cfJ5IF1p2h91b2SfVgkbjw9WW3LJiiPYChXGlFSVCbbIMu26wopRVWmDjGRF6BrqPrmUM0Gm1wnfNoqV4TFan83wP9XMmkJk2vdcl6xq3lTC5YugS6UHLEAx2rKMl1NeFTquVl0MuV92q3VGXiesNlf5cWfcJJwD93ddAu7iSIKLKdeRkC1fp4ucvzcAMhEV02yJHu2GUi57uMZHOODGyJnJMzul+qpvaItswcuTQBNralRrJCtmirXMtle61Vfzd7RLLrrBoxWYZgUQuLUOwNG/CCIlAcPZXZWoWczXjbJvJxMz4IDJl2eJLVVp0lvJ1mG3diCy7mDqPxFTJ7hLLrjBmkLcmWYhI0jIE8+cmUWrrQVz5VYicSfVObCxlAkU5/jfgDaTISGqVv+zIY3ZetPM61PadnLCpv3ZQrlWsCUKrlSe65ie8v2aJjfnCUk6QiC5xQnSFwQkRIo8mCcE/4J+TRfz4lQa2v5Mrp1cygeH+jAiGaHUsbQAoNljztxpI1bG4eEfRWcbSuIlsAaZzDY0smp4YkjPK9ufagS1aeU+L5yACXbmWY/MZ35ifDO4genrnOCFC5MOSm5qot9aRaCdhyU1aRgzhAFAqMgCJ/BiCGnDXRWYa7O4T6YQhuJNZt+LKId47hwx/IkdUF8cEiWhH4JggEdEaMASJSGsMQSLSGkOQiLTGECQirTEEiUhrDEEi0hpDkIi0xhAkIq01dQgaIWY4Ea1PE6ZICwJnDmEo/QhOvfx5vHgxhOPPOVXoiIhWqelC8OCZII4/dgB7bi3g2uwCTOxD4KmHcfwZPVqF8r6AOfWO2ES0Lk2WHAYOhw3A/AjpUyWk4yWcP3sFH6IVgSP7sd85ioioUU0WgvfCqr/+iYlrpv0M3v8MH8s76u/dhT32M0REDdOjD0lEtIQmuZ9gK55IPYRHDtyDPbIpuHgHt+9UL7tl727swiJu31oErl7F2Fm3mbg0q+aGUjC9lO3HcOXOy7LqW7Ra51fW9lVuSurW68iI/8pzmOUyEHgAM6OD3mJLJ1JWAadM/7Bd+Eje5PR0j1VJ2FJWa35EkLgYR/flDGZCUauAuveabP5aIZGRNOK9BszpZKXWsPucq3Ie6/O7V75Ooia0w+8nKMLP2G0HoNTSKh7LfXvbZT/p7K/8lWRIRDuUouXZkvOKZAcgRHC4hcwz8z2IX/SWtUQginDRKXQ+9KZV+rL7qHqECLW+oAgnp/JbJYDc8yZR6IjWTHIYvceAcfsYfwDWEOEV7wUK4pyeAAzNVL/baAGdA051OqdEp/c6xTcOi7gvFxmApCUtu8PBDtFKmp+t3m5+fLgSOFY9DtFCUwPIKo3pL3LuqdmRR/6yr6C7LHTeZmLmkv0psYEeYPqC0gKzi6IjEPbWCC5PNla602q9BUUrT23VxRCVoTiu3Ep/KoFJWSdZFl93PtNbeF4WYTJRyDICSU9ahmC13m+6pmC6FZBqPWK5qV1Ylxqigl3QvRqUkaPdMCqBFkFXh2zlxb3nFSHmZ86rrdIldBxD2gpAX2uxrwud4kp7TiufITa1228VYlcD/UQYwYUZ5BsJXqIdSM+JEdE6GpRdxeycExjeMJTja3aXVd1842g1ZIFzt6spWloho6bEpQyt2vOufRyu86C3W2srIVPzGWKrjD2q12l3hUvi70MNdCKd6BmCLtENtsbmlHGy0ryvW7sKE0Wnq2l1hUsoKt3l2Xm3S7oB5icxOFoARMsyPaJc6dQs5hBEWI7/LUO2hGF9R9kVVq+TSD9ahmBsLOUdh1PkL83AbOvBSTVcxNGpRn6lMZ5BAd2IDnQD7oSIQwak7GZbExSuvgRSns+pJSc6crk61ytbszVBKFt5ImwHvMdHRlLebr+cIBHXGRkRXWFOiJDmmqbk5p5QC/budnaWc2MRn4ogWI5/eYy6vMTiX8oCEwVlWYl/mYrKXp4iZ2zrdJ+dyYwq2XV1u8PuEhnvtdjnm6scV/PZ7jmVZTz+7+ddimNb9jqJmtBal8iw7rCmKktpWJSddgjWHaZVsCduzMt5BiBpjyGooxPyFyklTKpDAESaYghqRf4aRq5P7ERhlD+RI5I4JkhEOwLHBImI1oAhSERa2xbdYSKi9WJ3mIhoDRiCRKQ1hiARaY0hSERaYwgSkdYYgkSkte0TgoZRewt7IqJNtk1CMITYq3+P11+LiUe0Enm/QH+VOiJaC+D/A1Lq8mnmwn1pAAAAAElFTkSuQmCC" width="321" height="257" class="img_ev3q"></p>
<p>ç„¶åè¯¥ç”Ÿæˆçš„éƒ½ç”Ÿæˆå®Œäº†åŸºæœ¬ä¸Šï¼Œå¼€å§‹openvpnä¸Šåœºï¼š</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># ç”Ÿæˆ OpenVPN çš„é™æ€å¯†é’¥æ–‡ä»¶ ta.key</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># ä¸ç”Ÿæˆä¹Ÿå¯ä»¥ç”¨ï¼Œä½†æ˜¯æŸäº›GUIä¼šæ˜¾ç¤ºâ€ä¸å®‰å…¨â€œï¼Œä¸ºäº†ç”¨æˆ·æ„Ÿè§‰â€å®‰å…¨â€œï¼Œå’±è¿˜æ˜¯åŠ ä¸Šã€‚</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">openvpn --genkey --secret pki/ta.key</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># å°†æ‰€æœ‰çš„é…ç½®æ–‡ä»¶éƒ½è½¬ç§»åˆ°etc/openvpnç›®å½•ä¸‹é¢</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo cp pki/ca.crt /etc/openvpn/server/ca.crt </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo cp pki/dh.pem /etc/openvpn/server/dh.pem </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo cp pki/issued/vpn-server.crt /etc/openvpn/server/vpn-server.key</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo cp pki/private/vpn-server.key /etc/openvpn/server/vpn-server.key </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo cp pki/ta.key /etc/openvpn/server/ta.key </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>æ³¨æ„</div><div class="admonitionContent_BuS1"><p>é‡ä¸­ä¹‹é‡ï¼Œå¿…é¡»è¦<code>cp</code>è€Œä¸èƒ½è½¯è¿æ¥ï¼ï¼ï¼</p><p>openvpnä¸è®¤è½¯è¿æ¥ï¼ä½ å¯ä»¥mvè¿›å»<code>/etc/openvpn</code>åŸå§‹æ–‡ä»¶ï¼Œä¹‹åå†æŠŠå®ƒä»¬è½¯è¿æ¥å‡ºæ¥ï¼Œä½†ä¸èƒ½ç›´æ¥æŠŠæ–‡ä»¶è½¯è¿æ¥è¿›å»ã€‚</p><p>ä¸€å®šè¦ç¡®ä¿<code>/etc/openvpn</code>ä¸‹çš„æ–‡ä»¶æ˜¯åŸå§‹æ–‡ä»¶ï¼Œè€Œä¸æ˜¯è½¯è¿æ¥ã€‚</p></div></div>
<p>ç„¶ååˆ›å»ºä¸€ä¸ª<code>/etc/openvpn/server/check.sh</code>1`æ–‡ä»¶ï¼Œä½œä¸ºç”¨æˆ·å¯†ç éªŒè¯çš„è„šæœ¬ï¼š</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">check.sh</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">#!/bin/bash</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># å¯†ç æ–‡ä»¶ ç”¨æˆ·å å¯†ç æ˜æ–‡</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">PASSFILE=&quot;/etc/openvpn/openvpnfile&quot; </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># ç”¨æˆ·ç™»å½•æƒ…å†µçš„æ—¥å¿—</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">LOG_FILE=&quot;/var/log/openvpn-password.log&quot;  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">TIME_STAMP=`date &quot;+%Y-%m-%d %T&quot;`</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">if [ ! -r &quot;${PASSFILE}&quot; ]; then</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    echo &quot;${TIME_STAMP}: Could not open password file \&quot;${PASSFILE}\&quot; for reading.&quot; &gt;&gt; ${LOG_FILE}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    exit 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">fi</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">CORRECT_PASSWORD=`awk &#x27;!/^;/&amp;&amp;!/^#/&amp;&amp;$1==&quot;&#x27;${username}&#x27;&quot;{print $2;exit}&#x27;    ${PASSFILE}`</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">if [ &quot;${CORRECT_PASSWORD}&quot; = &quot;&quot; ]; then</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    echo &quot;${TIME_STAMP}: User does not exist: username=\&quot;${username}\&quot;,password=\&quot;${password}\&quot;.&quot; &gt;&gt; ${LOG_FILE}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    exit 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">fi</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">if [ &quot;${password}&quot; = &quot;${CORRECT_PASSWORD}&quot; ]; then</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    echo &quot;${TIME_STAMP}: Successful authentication: username=\&quot;${username}\&quot;.&quot; &gt;&gt; ${LOG_FILE}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    exit 0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">fi</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">echo &quot;${TIME_STAMP}: Incorrect password: username=\&quot;${username}\&quot;, password=\&quot;${password}\&quot;.&quot; &gt;&gt; ${LOG_FILE}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">exit 1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>åˆ›å»º<code>/etc/openvpn/openvpnfile</code>æ–‡ä»¶ï¼Œé‡Œé¢è®°å½•æ‰€æœ‰ç”¨æˆ·çš„å¯†ç å’Œç”¨æˆ·åï¼Œæ˜æ–‡å­˜å‚¨ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<div class="language-txt codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">openvpnfile</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-txt codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">jw238 123123</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">jwserver ee##rr$$tt%%</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">jwphone ppp22ppp</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-serverconf">2. server.conf<a href="#2-serverconf" class="hash-link" aria-label="2. server.confçš„ç›´æ¥é“¾æ¥" title="2. server.confçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>æ¥ä¸‹æ¥è®¾ç½®æœåŠ¡ç«¯é…ç½®æ–‡ä»¶ï¼Œåˆ›å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼Œå°½é‡åœ¨serveræ–‡ä»¶å¤¹é‡Œé¢åˆ›å»ºï¼Œåé¢systemdæ–¹ä¾¿æ“ä½œã€‚</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">cd /etc/openvpn/server</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo nano server.conf</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ° å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>è¿™ä¸ªconfå¾ˆæœ‰è®²ç©¶ï¼Œå†…å®¹ç›´æ¥å†³å®šé…ç½®å¤æ‚åº¦å’Œæ•ˆæœï¼Œä»”ç»†çœ‹ã€‚ç”±äºæ–‡ä»¶å¤ªé•¿ï¼Œæˆ‘è¿™é‡Œæ”¾ä¸ªè¿æ¥ï¼Œä¿è¯å„ä½èƒ½æ‹¿åˆ°æ–‡ä»¶æ ·æœ¬å³å¯ã€‚</p>
<p>å›½å†…ç‚¹è¿™ä¸ª
<a href="https://jw238.site/assets/server.conf.sample" target="_blank" rel="noopener noreferrer">server.conf</a></p>
<p>å›½å¤–ç‚¹è¿™ä¸ª
<a href="https://jabberwocky238.github.io/assets/server.conf.sample" target="_blank" rel="noopener noreferrer">server.conf</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-clientconfovpn">3. client.conf(.ovpn)<a href="#3-clientconfovpn" class="hash-link" aria-label="3. client.conf(.ovpn)çš„ç›´æ¥é“¾æ¥" title="3. client.conf(.ovpn)çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>client.confæ˜¯linuxæ–‡ä»¶ï¼Œclient.ovpnæ˜¯windowsæ–‡ä»¶ï¼Œå®‰å“ç³»ç»Ÿçš†å¯ã€‚</p>
<p>ä¸ºäº†æ–¹ä¾¿æ´¾å‘ï¼Œæˆ‘ä»¬æŠŠæ‰€æœ‰ä¸œè¥¿ï¼Œè¯ä¹¦å•Šå¯†é’¥å•Šä»€ä¹ˆçš„ï¼Œå…¨éƒ¨æ”¾è¿›ä¸€ä¸ªæ–‡ä»¶ã€‚æ¥ä¸‹æ¥æ˜¯ä¸€ä¸ªå®ä¾‹ï¼Œä½ æŒ‰ç…§æˆ‘çš„è¦æ±‚è¿›è¡Œå¤åˆ¶å³å¯ï¼š</p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>ç‚¹å‡»æŸ¥çœ‹ client.conf/client.ovpn</summary><div><div class="collapsibleContent_i85q">
  <!-- -->
<div class="language-conf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-conf codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># clientæŒ‡æ˜è¿™æ˜¯ä¸ªå®¢æˆ·ç«¯æ–‡ä»¶</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">client</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># éªŒè¯è¿œç¨‹æœåŠ¡å™¨æœ‰æ²¡æœ‰å¼€å¯tlsï¼Œå¦‚æœä½ æ²¡å¼€ï¼Œå°±æŠŠè¿™ä¸ªæ³¨é‡Šæ‰</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">remote-cert-tls server</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># å¤±è´¥æ— é™é‡è¿</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">resolv-retry infinite</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># tunæ¨¡å¼</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">dev tun</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># å…¬ç½‘IP, ç«¯å£ï¼ŒUDP/TCP</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># remote x.x.x.x &lt;port&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">remote 154.20.78.20 9999 # å·²è„±æ•ï¼Œæ”¾å¿ƒ</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">proto udp</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># ä¸ä¸»åŠ¨æ‹‰å–æœåŠ¡ç«¯è·¯å¾„ï¼Œé˜²æ­¢å…¨éƒ¨æµé‡éƒ½èµ°VPN</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">route-nopull</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># é™å®š10.8.66.0/24çš„æµé‡ç»è¿‡VPN</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">route 10.8.66.0  255.255.255.0 vpn_gateway</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># çœ‹å¥½ä½ çš„åŠ å¯†æ–¹æ³•å’Œå‹ç¼©æ–¹æ³•</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cipher AES-256-GCM</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">auth SHA1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">;comp-lzo</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># ä½¿ç”¨å¯†ç éªŒè¯</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">auth-user-pass</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># ä¸ç»‘å®šå›ºå®šç«¯å£ï¼Œå®¢æˆ·ç«¯éƒ½è¿™æ ·</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">nobind</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># å…è®¸å¾ªç¯è·¯ç”±ï¼Œè¦ä¸ç„¶æ‰¾ä¸åˆ°å®¶</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">allow-recursive-routing</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;ca&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-----BEGIN CERTIFICATE-----</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">MIIDSzCCAjOgAwIBAgIUcRw0kjFHdfnkTB+HgIMAnkt61S0wDQYJKoZIhvcNAQEL</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ä¸€å¤§å¨</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">MDIzMDIzOTQ1WjAWMRQwEgYDVQQDDAtFYXN5LVJTQSBDQTCCASIwDQYJKoZIhvcN</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-----END CERTIFICATE-----</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/ca&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;key&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-----BEGIN PRIVATE KEY-----</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCN2YkgCmIZB2Gu</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ä¸€å¤§å¨</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">DyZJHquhNczvbk81E3Gd0tgpevGx3qwQO67VIAG6veRAX4nRgAJMPJ3Sw/Jv8Hhe</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-----END PRIVATE KEY-----</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/key&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;cert&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-----BEGIN CERTIFICATE-----</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">MIIDoDCCAoigAwIBAgIRAIGOQYVP1w+kSGx66gpyH4owDQYJKoZIhvcNAQELBQAw</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ä¸€å¤§å¨</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">DwAwggEKAoIBAQCN2YkgCmIZB2GuDyZJHquhNczvbk81E3Gd0tgpevGx3qwQO67V</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-----END CERTIFICATE-----</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/cert&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">key-direction 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;tls-auth&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 2048 bit OpenVPN static key</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-----BEGIN OpenVPN Static key V1-----</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">b28b01af792acedbd8faaf80ab4716e3</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ä¸€å°å¨</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">f5e36f61f95697b3f800d712996259db</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-----END OpenVPN Static key V1-----</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/tls-auth&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</div></div></details>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-å¯åŠ¨">4. å¯åŠ¨<a href="#4-å¯åŠ¨" class="hash-link" aria-label="4. å¯åŠ¨çš„ç›´æ¥é“¾æ¥" title="4. å¯åŠ¨çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>ç›´æ¥å‘½ä»¤è¡Œå¯åŠ¨ï¼Œä¸å»ºè®®</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo openvpn --daemon --config server.conf</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo openvpn --config server.conf</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>systemdå¯åŠ¨ï¼Œæ›´å¥½</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo systemctl start openvpn-server@server</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo systemctl status openvpn-server@server</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>systemdæƒ…å†µè¦æ³¨æ„ï¼Œä½ çš„server.confæ–‡ä»¶çš„åå­—ï¼Œå…¶å®å°±æ˜¯@åçš„åå­—ï¼Œæ¢è¨€ä¹‹ï¼Œå¦‚æœä½ çš„server.confå«abcd.confï¼Œé‚£ä¹ˆåœ¨systemdå¯åŠ¨æ—¶ï¼Œå‘½ä»¤è¡Œåº”è¯¥å¦‚ä¸‹ï¼š</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo systemctl start openvpn-server@abcd</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>linuxå®¢æˆ·ç«¯åŒç†ï¼Œwindowså®¢æˆ·ç«¯å’Œandroidå®¢æˆ·ç«¯ç›´æ¥ç”¨GUIæ›´å¥½ã€‚</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-æµ‹è¯•">5. æµ‹è¯•<a href="#5-æµ‹è¯•" class="hash-link" aria-label="5. æµ‹è¯•çš„ç›´æ¥é“¾æ¥" title="5. æµ‹è¯•çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>æˆ‘çš„å¦ˆå‘€ï¼Œå¥½è´¹åŠ²å•Šï¼Œå¥½å¤æ‚å•Šï¼Œå§æ§½...è€Œä¸”è¿™ç©æ„å¾ˆä¸‘ä½ çŸ¥é“å—ï¼Œä½ è·Ÿclashå’Œv2rayçš„ç•Œé¢ä¸€æ¯”ï¼Œç®€ç›´ä¸‘çˆ†äº†ã€‚ä½†æ˜¯æ¶ä¸ä½ä»–è®¾ç½®å…¨é¢ï¼Œè¦†ç›–é¢å¹¿ï¼Œé‡æ­¦å™¨æœ‰é‡æ­¦å™¨çš„å¥½ã€‚</p>
<p>æ¥ä¸‹æ¥å’±ä»¬å‡†å¤‡ä¸¤å°è®¾å¤‡ï¼Œä¸€ä¸ªç”µè„‘ä¸€ä¸ªæ‰‹æœºï¼Œéƒ½è¿åˆ°VPNä¸Šï¼Œç”µè„‘æ‰“å¼€ä¸€ä¸ªpython flask webï¼Œæ‰‹æœºè®¿é—®å…¶å…¬ç½‘IPå’Œç«¯å£ã€‚</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">10.8.66.1 å…¬ç½‘æœåŠ¡å™¨</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">10.8.66.2 ç”µè„‘</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">10.8.66.3 æ‰‹æœº</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ç”µè„‘çš„flaskå¼€åœ¨0.0.0.0çš„5000ç«¯å£ä¸Šï¼Œæ‰‹æœºæµè§ˆå™¨è®¿é—®10.8.66.2:5000åº”è¯¥æ˜¯å¯ä»¥æ‰“å¼€çš„flaské¡µé¢çš„ï¼ŒåŒç†å³å¯ç©¿é€å…¶ä»–å†…ç½‘æœåŠ¡ï¼Œæ¯”å¦‚å…¶ä»–è®¾å¤‡çš„dockerå®¹å™¨ï¼Œmysqlç”šè‡³æ˜¯sshï¼Œmcsmanagerå°±æ›´ä¸åœ¨è¯ä¸‹äº†ã€‚</p>
<p><em>å“ªæ€•MCæœ¬èº«éƒ½æ˜¯å¯ä»¥ç©¿é€çš„</em></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä¸‰wireguard">ä¸‰ï¼ŒWireGuard<a href="#ä¸‰wireguard" class="hash-link" aria-label="ä¸‰ï¼ŒWireGuardçš„ç›´æ¥é“¾æ¥" title="ä¸‰ï¼ŒWireGuardçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>æœ‰æ²¡æœ‰æ›´æ–¹ä¾¿çš„æ–¹æ³•ï¼Œç›´æ¥â€œå¼€VPNâ€å³è®¿é—®å†…ç½‘ï¼Œå…³VPNå³æ— æ³•è®¿é—®ã€‚äºæ˜¯æˆ‘æ‰¾åˆ°äº†<a href="https://www.wireguard.com/" target="_blank" rel="noopener noreferrer">WireGuard</a>ã€‚</p>
<p>é…ç½®æåº¦ç®€å•ï¼Œä½†æ˜¯åå¤„æ˜¯æ²¡æ³•å¯†ç éªŒè¯ï¼Œå¿…é¡»æ¯ä¸ªå®¢æˆ·ç«¯ç‹¬ç«‹å¯†é’¥å¯¹ï¼Œç®¡ç†èµ·æ¥ä¼šéº»çƒ¦ï¼Œä½†æ˜¯GUIå¥½çœ‹ï¼Œå®˜æ–¹å®šåˆ¶GUIï¼Œè€Œä¸”Wireguardé€Ÿåº¦æ¯”OpenVPNå¿«ã€‚</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-å•æœºé…ç½®">1. å•æœºé…ç½®<a href="#1-å•æœºé…ç½®" class="hash-link" aria-label="1. å•æœºé…ç½®çš„ç›´æ¥é“¾æ¥" title="1. å•æœºé…ç½®çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo apt install wireguard</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># æ„å»ºå¯†é’¥å¯¹ï¼Œè®°å¾—ç®¡ç†å¥½ï¼Œå®¹æ˜“ä¹±</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># PUBLIC_KEYå’ŒPRIVATE_KEYæ›¿æ¢æˆä½ å–œæ¬¢çš„åå­—</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">wg genkey | tee keys/$PRIVATE_KEY | wg pubkey &gt; keys/$PUBLIC_KEY</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="alt text" src="/assets/images/image-1-a7bc82e606d7bf9e846847dd6681e77e.png" width="322" height="397" class="img_ev3q"></p>
<p>ç„¶ååˆ›å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo vim /etc/wireguard/wg0.conf</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-conf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">wg0.conf</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-conf codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">[Interface]</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">PrivateKey = æœåŠ¡å™¨å¯†é’¥</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">Address = 192.168.238.1/24</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"># Wireguardç›‘å¬ç«¯å£ï¼Œé»˜è®¤æ˜¯51820</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">ListenPort = 51820 </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">PostUp = iptables -A FORWARD -i wg0 -j ACCEPT; </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">PostUp = iptables -A FORWARD -o wg0 -j ACCEPT;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">PostUp = iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">PostDown = iptables -D FORWARD -i wg0 -j ACCEPT; </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">PostDown = iptables -D FORWARD -o wg0 -j ACCEPT;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">PostDown = iptables -t nat -D POSTROUTING -o eth0 -j MASQUERADE;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"># ä½ çš„DNSæœåŠ¡å™¨ï¼Œå¯ä»¥è‡ªå»ºï¼Œä¸è‡ªå»ºçš„è¯å°±æ³¨é‡Šæ‰</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">DNS = 192.168.238.1</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">[Peer]</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">PublicKey = å®¢æˆ·ç«¯å…¬é’¥</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"># æ­¤  æœºå™¨å†…ç½‘IPï¼Œ/32æ„æ€æ˜¯å­ç½‘æ©ç æ˜¯255.255.255.255</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"># æ¢è¨€ä¹‹è¿™ç©æ„åªæœ‰è‡ªå·±çš„IPä½œä¸ºå­ç½‘</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">AllowedIPs = 192.168.238.2/32</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"># æ¡æ‰‹é€Ÿåº¦ï¼Œä¸æ˜¯å¿…é¡»çš„ï¼Œä¸€èˆ¬å†™ä¸ª30ç§’ä¸Šä¸‹è¶³å¤Ÿï¼Œå¦‚æœè¦å®æ—¶æ€§é«˜å¯ä»¥å†™æ›´çŸ­</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">PersistentKeepalive = 25</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>PostUpå’ŒPostDowné‡Œé¢çš„â€œwg0â€æ˜¯å½“å‰æ–‡ä»¶çš„åå­—ï¼Œä½ å¯ä»¥éšä¾¿å–ï¼Œä½†æ˜¯è¦ä¿æŒä¸€è‡´ã€‚</p>
<p>PostUpå’ŒPostDownæ˜¯WireGuardçš„é’©å­ï¼Œç”¨äºiptableï¼Œkimiä¸€ä¸‹iptableæ˜¯ä»€ä¹ˆå§ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆç‰›çš„ä¸œè¥¿ã€‚</p>
<p>å¦‚æœä½ ä¸æƒ³è´¹å¿ƒæ€è€ƒè™‘iptableçš„åŸç†ï¼Œæˆ‘å¯ä»¥ç®€å•è§£é‡Šè¿™ä¸‰å¥è¯å•¥æ„æ€ï¼š</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># å…è®¸wg0æ¥å£çš„æ•°æ®åŒ…è¿›æ¥ï¼Œinbound</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">PostUp = iptables -A FORWARD -i wg0 -j ACCEPT;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># å…è®¸wg0æ¥å£çš„æ•°æ®åŒ…å‡ºå»ï¼Œoutbound</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">PostUp = iptables -A FORWARD -o wg0 -j ACCEPT;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># å…è®¸wg0æ¥å£çš„æ•°æ®åŒ…å‡ºå»ï¼Œä½†æ˜¯è¦åšNATï¼Œè½¬æ¢åˆ°eth0ï¼ˆå®é™…ç½‘å¡ï¼‰çš„IP</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">PostUp = iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ç„¶åä½ çš„ç”µè„‘æˆ–è€…æ‰‹æœºå¼€ä¸€ä¸ªwireguardï¼Œå†™å¦‚ä¸‹æ–‡ä»¶ï¼š</p>
<div class="language-conf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">client.conf</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-conf codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">[Interface]</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">PrivateKey = å®¢æˆ·ç«¯å¯†é’¥</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">Address = 192.168.238.2/32</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"># ä½ çš„DNSæœåŠ¡å™¨ï¼Œå¯ä»¥è‡ªå»ºï¼Œä¸è‡ªå»ºçš„è¯å°±æ³¨é‡Šæ‰</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">DNS = 192.168.238.1</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">[Peer]</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">PublicKey = æœåŠ¡å™¨å…¬é’¥</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">AllowedIPs = 192.168.238.0/24</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">PersistentKeepalive = 25</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ç„¶å192.168.238.0/24ç½‘æ®µçš„æ‰€æœ‰ä¸»æœºä½ éƒ½å¯ä»¥è®¿é—®äº†ã€‚æµ‹è¯•æ–¹æ³•åŒopenvpnï¼Œå¼€ä¸€ä¸ªflaskï¼Œæ‰‹æœºè®¿é—®ï¼ŒæˆåŠŸå³å¯ã€‚</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-å†…ç½‘è®¾å¤‡äº’è”">2. å†…ç½‘è®¾å¤‡äº’è”<a href="#2-å†…ç½‘è®¾å¤‡äº’è”" class="hash-link" aria-label="2. å†…ç½‘è®¾å¤‡äº’è”çš„ç›´æ¥é“¾æ¥" title="2. å†…ç½‘è®¾å¤‡äº’è”çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>å¦‚æœä½ æƒ³è¦å†…ç½‘æœºå™¨äº’è”ï¼Œä¸éœ€è¦å¢åŠ Peerï¼Œåªéœ€è¦åœ¨æ¯å°æœºå™¨ä¸Šé…ç½®å¥½client.confã€‚</p>
<p><strong>ä¸¾ä¾‹ï¼š</strong></p>
<p>è®¾å¤‡Aå…¬ç½‘ï¼Œè®¾å¤‡Bå†…ç½‘ï¼Œè®¾å¤‡Cå†…ç½‘ï¼ŒBä¸Cäº’ç›¸ä¸é€šï¼Œç°åœ¨è¦ä½¿ç”¨Aä½œä¸ºVPNç½‘å…³ï¼Œä½¿å¾—Bä¸Cäº’é€šã€‚</p>
<p>å‡è®¾Aå†…ç½‘IPæ˜¯10.99.0.1ï¼ŒBæ˜¯10.99.0.2ï¼ŒCæ˜¯10.99.0.3ã€‚</p>
<div class="language-conf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">A.conf</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-conf codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">[Interface]</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">PrivateKey = Aå¯†é’¥</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">Address = 10.99.0.1/24</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">ListenPort = 51820 </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">PostUp = ç•¥</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">PostDown = ç•¥</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">[Peer]</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">PublicKey = Bå…¬é’¥</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">AllowedIPs = 10.99.0.2/32</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">[Peer]</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">PublicKey = Cå…¬é’¥</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">AllowedIPs = 10.99.0.3/32</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-conf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">B.conf</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-conf codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">[Interface]</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">PrivateKey = Bå¯†é’¥</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">Address = 10.99.0.2/32</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">[Peer]</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">PublicKey = Aå…¬é’¥</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">AllowedIPs = 10.99.0.0/24</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-conf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">C.conf</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-conf codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">[Interface]</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">PrivateKey = Cå¯†é’¥</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">Address = 10.99.0.3/32</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">[Peer]</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">PublicKey = Aå…¬é’¥</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">AllowedIPs = 10.99.0.0/24</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>æ­¤ä¸‰è®¾å¤‡äº’ç›¸å¯ä»¥pingé€šï¼Œä½¿ç”¨å†…ç½‘IPå³å¯ã€‚</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>æç¤º</div><div class="admonitionContent_BuS1"><p>å¦‚æœä¸‰è€…å…¶ä¸€å¼€å¯ç½‘ç»œæœåŠ¡ï¼Œè®°å¾—æš´éœ²åœ¨0.0.0.0ç½‘æ®µæˆ–è€…æŒ‡å®šåœ¨10.99.0.0/24ç½‘æ®µï¼Œå¦åˆ™ï¼Œä¸€èˆ¬çš„127.0.0.1ï¼Œç”±äºä½ æ²¡è®¾ç½®iptableï¼Œæ˜¯è®¿é—®ä¸åˆ°çš„ã€‚</p><p>æˆ–è€…ä½¿ç”¨nginxè¿›è¡Œåå‘ä»£ç†ï¼ŒæŠŠlocalhostä»£ç†åˆ°å†…ç½‘ç½‘æ®µï¼Œä¸‹æ–‡æœ‰æ‰€æ¶‰çŒã€‚</p></div></div>
<p>Açš„Peerè®¾ç½®é‡Œï¼Œ10.99.0.0/24çš„æ„æ€æ˜¯ï¼Œåªæœ‰10.99.0.0/24ç½‘æ®µçš„æµé‡ä¼šè¢«æ­¤VPNæ¥ç®¡ï¼Œå…¶ä»–æµé‡éƒ½æ˜¯ç›´è¿çŠ¶æ€ï¼Œä¸ä¼šæ¥ç®¡ã€‚</p>
<p>æ¢è¨€ä¹‹ï¼Œå¦‚æœä½ å†™<code>AllowedIPs = 0.0.0.0</code>ï¼Œé‚£ä¹ˆAå°±ç±»ä¼¼ <strong>â€œæ¢¯â€</strong> äº†ã€‚</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>æ³¨æ„</div><div class="admonitionContent_BuS1"><p>wireguardå¯ä»¥åš <strong>â€œæ¢¯â€</strong> ï¼Œä½†æ˜¯è¯¸å¤šäº‹ä»¶å‘Šè¯‰æˆ‘ä»¬ï¼Œåº”è¯¥é€‰æ‹©æ›´å®‰å…¨çš„åè®®ï¼Œwireguardå¹¶ä¸èƒ½å¾ˆå¥½çš„éšè—è‡ªå·±ï¼Œæœ‰å…´è¶£å¯ç‚¹æˆ‘ä¸ªäººç«™ï¼Œæœ‰ä½ æƒ³çœ‹çš„ã€‚</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-web-guiç®¡ç†å™¨">3. Web GUIç®¡ç†å™¨<a href="#3-web-guiç®¡ç†å™¨" class="hash-link" aria-label="3. Web GUIç®¡ç†å™¨çš„ç›´æ¥é“¾æ¥" title="3. Web GUIç®¡ç†å™¨çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>wireguardçš„å¥½å¤„ï¼Œæ¯”OpenVPNå¥½çš„åœ°æ–¹ï¼Œå°±æ˜¯ä»–æœ‰ä¸€ä¸ªå¼€æºçš„ï¼Œéå¸¸å¥½çš„webGUIï¼Œå¼¥è¡¥äº†å®ƒæ²¡å¯†ç è¡¨ä¸å¥½ç®¡ç†çš„ç¼ºé™·ï¼Œgithubè¿æ¥åœ¨è¿™ï¼Œ<a href="https://github.com/ngoduykhanh/wireguard-ui" target="_blank" rel="noopener noreferrer">wireguard-ui</a>ï¼Œå ç”¨ç©ºé—´ä¹Ÿå¾ˆå°ï¼Œ2æ ¸2Gçš„æœåŠ¡å™¨ç»°ç»°æœ‰ä½™å¯ä»¥è·‘è¿™ä¸ªï¼Œè¿˜èƒ½åŠ ä¸Šnginxï¼Œéƒ½åƒä¸åˆ°20%ã€‚</p>
<p>ä½¿ç”¨æ–¹æ³•ï¼Œå®˜æ–¹ç»™å‡ºäº†ç›´æ¥ä½¿ç”¨ç‰ˆæœ¬ï¼Œæˆ‘çš„å»ºè®®è¿˜æ˜¯ç”¨dockerï¼Œæ¯•ç«Ÿè¿™ç©æ„ï¼Œåœ¨ä¸ä¹…çš„æœªæ¥å¯èƒ½éœ€è¦å¤šå¼€ï¼Œæ¯•ç«Ÿéœ€è¦ç•™ä¸€ä¸ªåªæœ‰ä½ èƒ½æ‰“å¼€çš„é¢æ¿ï¼ˆé˜²æ­¢ç®¡ç†äººå‘˜ä¸æ‡‚æŠ€æœ¯ï¼Œæåäº†ï¼Œä½ åˆä¸å¥½debugï¼‰ã€‚</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>æç¤º</div><div class="admonitionContent_BuS1"><p>å¯¹äºå·²ç»åœ¨å®¿ä¸»æœºé‡Œè£…å¥½wireguardçš„åŒå­¦ï¼Œæ­å–œ ä½ ï¼Œä½ è·Ÿæˆ‘å®Œå…¨ä¸€æ ·ï¼Œåªéœ€è¦é¡ºç€èµ°å®Œæ­¤æ•™ç¨‹å³å¯ã€‚</p></div></div>
<p>docker-composeæ–‡ä»¶sampleå®˜æ–¹å·²ç»ç»™äº†ï¼Œæˆ‘åœ¨è¿™é‡Œç»™ä½ ä¸€ä¸ªæˆ‘çš„å‰¯æœ¬ï¼Œè§£é‡Šä¸€ä¸‹æ¯ä¸ªå‚æ•°çš„æ„ä¹‰ï¼Œæ–¹ä¾¿ä½ ä½¿ç”¨ã€‚</p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>ç‚¹å‡»æŸ¥çœ‹ docker-compose.yml</summary><div><div class="collapsibleContent_i85q">
  <!-- -->
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">version</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;3&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">services</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">wireguard-ui</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">image</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> ngoduykhanh/wireguard</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">ui</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">container_name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> wireguard</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">ui</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">cap_add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> NET_ADMIN</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># required to show active clients. with this set, you don&#x27;t need to expose the ui port (5000) anymore</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">network_mode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> host</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">environment</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> BASE_PATH </span><span class="token comment" style="color:rgb(98, 114, 164)"># web GUIåŸºç‚¹ï¼Œé»˜è®¤æ˜¯&quot;/&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># ï¼ï¼ï¼ç»‘å®šGUIç›‘å¬ç«¯å£ï¼Œä¹Ÿå°±æ˜¯nginxè½¬å‘çš„ä½ç½®(proxy_pass http://127.0.0.1:23992;)</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> BIND_ADDRESS=127.0.0.1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token number">23992</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> SESSION_SECRET </span><span class="token comment" style="color:rgb(98, 114, 164)"># é¢å¤–åŠ å¯†</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> SESSION_SECRET_FILE </span><span class="token comment" style="color:rgb(98, 114, 164)"># é¢å¤–åŠ å¯†</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> SESSION_MAX_DURATION=90 </span><span class="token comment" style="color:rgb(98, 114, 164)"># é¢å¤–åŠ å¯†</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># ï¼ï¼ï¼å­ç½‘èŒƒå›´ï¼Œä»”ç»†çœ‹æ–‡æ¡£ï¼Œä»–ç›´æ¥å†³å®šæ­¤GUIçš„å…¨å±€é€‰é¡¹ï¼Œä¸”å®¹å™¨ç”Ÿå‘½å‘¨æœŸå†…ä¸å¯ä¿®æ”¹ï¼Œä½ å¯ä»¥åˆ å®¹å™¨æ¥é‡å¯</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> SUBNET_RANGES=ALL</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">192.168.238.0/24;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> WGUI_USERNAME=admin </span><span class="token comment" style="color:rgb(98, 114, 164)"># é»˜è®¤ç”¨æˆ·å</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> WGUI_PASSWORD=admin </span><span class="token comment" style="color:rgb(98, 114, 164)"># é»˜è®¤ç”¨æˆ·å¯†ç </span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> WGUI_PASSWORD_FILE </span><span class="token comment" style="color:rgb(98, 114, 164)"># å¯†ç å¾ˆé•¿çš„è¯å¯ä»¥æ”¾æ–‡ä»¶é‡Œ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> WGUI_PASSWORD_HASH </span><span class="token comment" style="color:rgb(98, 114, 164)"># æ²¡æ‡‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> WGUI_PASSWORD_HASH_FILE </span><span class="token comment" style="color:rgb(98, 114, 164)"># æ²¡æ‡‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> WGUI_ENDPOINT_ADDRESS=xxx.xxx.xxx.xxx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token number">51280</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)"># wireguardå…¬ç½‘IPå’Œç«¯å£ï¼Œå†…éƒ¨å¯è°ƒ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> WGUI_FAVICON_FILE_PATH </span><span class="token comment" style="color:rgb(98, 114, 164)"># ç½‘ç«™å›¾æ ‡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> WGUI_DNS=192.168.238.1 </span><span class="token comment" style="color:rgb(98, 114, 164)"># è‡ªå®šä¹‰DNS</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> WGUI_MTU=1450 </span><span class="token comment" style="color:rgb(98, 114, 164)"># é»˜è®¤è®¾ç½®1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> WGUI_PERSISTENT_KEEPALIVE=15 </span><span class="token comment" style="color:rgb(98, 114, 164)"># é»˜è®¤è®¾ç½®2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> WGUI_FIREWALL_MARK=51280 </span><span class="token comment" style="color:rgb(98, 114, 164)"># wireguardå…¬ç½‘ç«¯å£ï¼Œå†…éƒ¨å¯è°ƒ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> WGUI_TABLE=auto</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># ï¼ï¼ï¼æ­¤GUIç›‘ç®¡çš„wgç¤ºä¾‹ï¼Œå¦‚æœä½ å¡«äº†wg1ï¼Œé‚£ä¹ˆé‚£å°±ä¼šå¯¹wg1.confå®Œå…¨æ§åˆ¶ï¼ŒåŒ…æ‹¬å¼€å¯å’Œå…³é—­ï¼Œç”šè‡³æ–‡ä»¶ä¿®æ”¹</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> WGUI_CONFIG_FILE_PATH=/etc/wireguard/wg1.conf</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> WGUI_LOG_LEVEL=INFO</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> WG_CONF_TEMPLATE</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> EMAIL_FROM_ADDRESS=</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> EMAIL_FROM_NAME=WireGuard UI</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> SENDGRID_API_KEY=</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> SENDGRID_API_KEY_FILE=</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># SMTPå’ŒTELEGRAMé€šçŸ¥ï¼Œä½ ä¸è®¾ç½®å°±ä¸ç”¨å¡«ï¼Œæ²¡ç”¨ã€‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> SMTP_HOSTNAME=127.0.0.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> SMTP_PORT=25</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> SMTP_USERNAME=</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> SMTP_PASSWORD=</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> SMTP_PASSWORD_FILE=</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> SMTP_AUTH_TYPE=</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> SMTP_ENCRYPTION=</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> SMTP_HELO=</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> TELEGRAM_TOKEN=</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> TELEGRAM_ALLOW_CONF_REQUEST=false</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> TELEGRAM_FLOOD_WAIT=60</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># é»˜è®¤é…ç½®ä¸€å¤§å †ï¼Œæ³¨æ„POST_UPå’ŒPOST_DOWNå¯¹åº”çš„wg1ï¼Œåå­—åˆ«é”™äº†</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> WGUI_SERVER_INTERFACE_ADDRESSES=192.168.238.1/24</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> WGUI_SERVER_LISTEN_PORT=51280</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> WGUI_SERVER_POST_UP_SCRIPT=iptables </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">A FORWARD </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">i wg1 </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">j ACCEPT; iptables </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">A FORWARD </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">o wg1 </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">j ACCEPT; iptables </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">t nat </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">A POSTROUTING </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">o eth0 </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">j MASQUERADE;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> WGUI_SERVER_POST_DOWN_SCRIPT=iptables </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">D FORWARD </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">i wg1 </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">j ACCEPT; iptables </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">D FORWARD </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">o wg1 </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">j ACCEPT; iptables </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">t nat </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">D POSTROUTING </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">o eth0 </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">j MASQUERADE;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> WGUI_DEFAULT_CLIENT_ALLOWED_IPS=192.168.238.0/24</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> WGUI_DEFAULT_CLIENT_EXTRA_ALLOWED_IPS=</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> WGUI_DEFAULT_CLIENT_USE_SERVER_DNS=true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> WGUI_DEFAULT_CLIENT_ENABLE_AFTER_CREATION=true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># ï¼ï¼ï¼ä¸€å®šè¦trueï¼Œè®©å®¹å™¨ç›´æ¥æ§åˆ¶å®¿ä¸»æœºwg1å¯åœ</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> WGUI_MANAGE_START=true</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> WGUI_MANAGE_RESTART=true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">logging</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">driver</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> json</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">file</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token key atrule">max-size</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 50m</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">volumes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> ./db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">/app/db</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> /etc/wireguard</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">/etc/wireguard</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</div></div></details>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="å››dnsbind9-named">å››ï¼ŒDNS(bind9, named)<a href="#å››dnsbind9-named" class="hash-link" aria-label="å››ï¼ŒDNS(bind9, named)çš„ç›´æ¥é“¾æ¥" title="å››ï¼ŒDNS(bind9, named)çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>DNSæœåŠ¡å™¨ï¼Œç”¨äºè§£æåŸŸåã€‚ä½ è¿ä¸Šè‡ªå®šä¹‰çš„VPNä¹‹åï¼Œå†…ç½‘çš„å…„å¼Ÿå§å¦¹è¿ä½ çš„æœåŠ¡è¿˜å¾—æ‰‹æ•²IPï¼Œå¤šæ²¡é¢å­ï¼æ‰€ä»¥æˆ‘ä»¬æ¥æä¸€ä¸ªDNSæœåŠ¡å™¨ï¼Œç»™ä»–ä¸€ä¸ªæ¼‚äº®çš„åŸŸåï¼Œçœ‹èµ·æ¥å°±çˆ½å¤šäº†ã€‚</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo apt install bind9</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo ln -s /etc/bind /home/ubuntu/bind</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ç„¶åä½ ä¼šçœ‹åˆ°å¦‚ä¸‹åœºæ™¯ï¼š</p>
<p><img decoding="async" loading="lazy" alt="alt text" src="/assets/images/image-3-873a43458e0a4f78c580b237250bdc17.png" width="566" height="481" class="img_ev3q"></p>
<p>é¦–å…ˆå¤åˆ¶ä¸€ä¸‹db.localï¼Œç„¶åæ”¹ä¸€ä¸ªä½ å–œæ¬¢çš„åå­—ï¼Œåƒæˆ‘ä¸€æ ·ï¼Œç„¶åæ”¹æ–‡ä»¶ã€‚</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">db.jw238server</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">; BIND data file for jw.boom</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$TTL    86400</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">; è¿™é‡Œå†™åŸºç¡€åŸŸåï¼Œæ®æˆ‘æ‰€çŸ¥ä½ å¯ä»¥å†™çš„å¾ˆéªšï¼Œæˆ‘è¿™é‡Œéå¸¸ä¿å®ˆï¼Œä½ å¯ä»¥å†™å¥½é•¿ä¸€ä¸²</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">@   IN  SOA jw.boom. root.jw.boom. (</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                              1         ; Serial</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                         604800         ; Refresh</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                          86400         ; Retry</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        2419200         ; Expire</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                         604800 )       ; Negative Cache TTL</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">; é»˜è®¤nameserverï¼Œå¿…å†™ï¼Œæˆ‘è¿™é‡Œå†™çš„æ˜¯station</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">; ä½ å¯ä»¥ç›´æ¥è§£æåˆ°IPï¼Œæˆ–è€…åƒæˆ‘ä¸€æ ·éš”ä¸€å±‚</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">@           IN      NS      station </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">; Aæ˜¯è§£æåˆ°IPV4åœ°å€ï¼ŒAAAAæ˜¯è§£æåˆ°IPV6åœ°å€</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">station     IN      A       192.168.238.1 </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">; CNAMEæ˜¯åˆ«å</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">dns         IN      CNAME   station</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">mcs         IN      CNAME   station</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">mcworld     IN      A       192.168.238.2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">mc          IN      CNAME   mcworld</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">gigachad    IN      A       192.168.238.5</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">; ä¸‹é¢ä¸¤å¥å¿…å†™ï¼Œå¦åˆ™ä¼šæŠ¥é”™</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">@	        IN	    A     	127.0.0.1 </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">@	        IN	    AAAA	  ::1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ç„¶åæ‰¾åˆ°<code>named.conf.local</code>ï¼ŒåŠ ä¸€è¡Œè¿™ä¸ªã€‚</p>
<div class="language-txt codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">named.conf.local</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-txt codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// å®šä¹‰åŸŸåçš„æ ¸å¿ƒåœ¨è¿™é‡Œ</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">zone &quot;jw.boom&quot; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">	type master;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">	file &quot;/etc/bind/db.jw238server&quot;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ç„¶åæ‰¾åˆ°<code>named.conf.options</code>ï¼Œæ”¹å†™è½¬å‘è§„åˆ™ã€‚</p>
<div class="language-txt codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">named.conf.options</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-txt codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">options {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">	directory &quot;/var/cache/bind&quot;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // ä¸forwardï¼Œå› ä¸ºä½ éƒ½è§£æä¸å‡ºæ¥ï¼Œé‚£è‚¯å®šå°±ä¸æ˜¯è‡ªå®šä¹‰çš„åŸŸåäº† </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">	// forwarders { 8.8.8.8; };</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">	dnssec-validation no; // å…³äº†ä¸æŠ¥é”™</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">	listen-on port 53 { </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">		192.168.238.1; // æœ¬æœºå†…ç½‘IPï¼Œä¹Ÿæ˜¯ä½ çš„DNSæœåŠ¡å™¨</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">	};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  listen-on-v6 { any; }; // è§£æIPV6</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">	recursion yes; // å¾ªç¯æŸ¥è¯¢dns</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">	allow-query { any; }; </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ç„¶åè®°å¾—é‡å¯named(bind9)</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo systemctl restart named</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å¦‚æœä½ çš„æœåŠ¡æš´éœ²åœ¨å†…ç½‘æ®µï¼Œä½ å·²ç»å¯ä»¥é€šè¿‡åŸŸå+ç«¯å£ç›´æ¥è®¿é—®äº†ï¼Œä½†æ˜¯å¦‚æœä½ æƒ³å»æ‰æ¶å¿ƒçš„ç«¯å£ï¼Œæˆ–è€…è½¬å‘127.0.0.1çš„æœåŠ¡ï¼Œå°±éœ€è¦nginxã€‚</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="äº”nginx">äº”ï¼ŒNginx<a href="#äº”nginx" class="hash-link" aria-label="äº”ï¼ŒNginxçš„ç›´æ¥é“¾æ¥" title="äº”ï¼ŒNginxçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>å’‹è£…å’‹å¼€ï¼š</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo apt install nginx</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo ln -s /etc/nginx /home/ubuntu/nginx</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo ln -s /var/www/html /home/ubuntu/nginx/html</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo ln -s /var/log/nginx /home/ubuntu/nginx/log</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo systemctl start nginx</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>åˆ†confæ–‡ä»¶æˆ‘å°±ä¸æ•™äº†ï¼Œå¯ä»¥æœnginxæ•™å­¦ï¼Œè¿™é‡Œåªæ•™å¿«é€Ÿæ˜ å°„ç«¯å£å’ŒåŸŸåã€‚</p>
<p>æ‰¾åˆ°nginxçš„httpå—ã€‚</p>
<div class="language-conf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">nginx.conf</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-conf codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">http {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    map $http_host $backend_port {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        mcsmanager.jw.boom 23333;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        mc.jw.boom 25565;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        gigachad.jw.boom 6666;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    server {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        listen 80;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        location / {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            proxy_pass http://127.0.0.1:$backend_port;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>mapæ ¼å¼ï¼Œå·¦è¾¹åŸŸåï¼Œå³è¾¹ç«¯å£ï¼ŒåŸŸåæ”¯æŒæ­£åˆ™åŒ¹é…ã€‚</p>
<p>ä¸‹é¢serverå—ï¼Œæˆ‘è¿˜ä¸çŸ¥é“æ€ä¹ˆé­”æ”¹ï¼Œå»ºè®®ç…§æŠ„ã€‚</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>æ³¨æ„</div><div class="admonitionContent_BuS1"><p>è¿™ä¸ªserverå—å’Œmapå—å¿…é¡»ç›´æ¥æ”¾åœ¨httpå—ä¸‹ï¼Œä¸èƒ½æ”¾å…¥å•ç‹¬çš„confæ–‡ä»¶å¼•å…¥ï¼Œå› ä¸ºmapå—æœ‰ä½œç”¨åŸŸã€‚</p></div></div>
<p>è®°å¾—é‡å¯ï¼š</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># é‡å¯ä¹‹é—´æµ‹è¯•ä¸€ä¸‹é…ç½®æ–‡ä»¶</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo nginx -t</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># å¦‚æœæŠ¥é”™äº†ï¼Œçœ‹çœ‹é…ç½®å“ªä¸å¯¹</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># é‡å¯</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo systemctl reload nginx</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>è‡³æ­¤ï¼Œä½ åœ¨VPNæœåŠ¡å™¨ç›´æ¥å¼€ä¸€ä¸ªmcsmanagerï¼Œä½ çš„å°ä¼™ä¼´åº”è¯¥å¯ä»¥é€šè¿‡mcsmanager.jw.boomæ¥è®¿é—®æ§åˆ¶é¢æ¿äº†ã€‚</p>
<p>ç„¶ååŒä¸€ä¸ªVPNä¸‹çš„åŒå­¦å¯ä»¥ç›´æ¥é€šè¿‡å†…ç½‘IPåŠ ç«¯å£å·è®¿é—®å¯¹æ–¹çš„ä¸–ç•Œ ã€‚</p>
<p>ä¾‹å¦‚å…¬ç½‘æœºå™¨A(192.169.0.1)ï¼ŒåŒå­¦B(192.169.0.2)ï¼ŒåŒå­¦C(192.169.0.3)ï¼Œå…¶ä¸­Bå¼€äº†ä¸€ä¸ªä¸–ç•Œï¼Œå±€åŸŸç½‘ç«¯å£ä¸º48888ï¼Œé‚£ä¹ˆCå¯ä»¥é€šè¿‡192.168.0.2:48888è¿å…¥ä¸–ç•Œã€‚</p>
<p>æˆ–è€…å¦‚æœä½ åšäº†DNSï¼ŒæŠŠ192.169.0.2è§£æåˆ°äº†gigachad.jw.boomï¼Œé‚£ä¹ˆCåŒå­¦å°±å¯ä»¥é€šè¿‡gigachad.jw.boom:48888è¿å…¥ä¸–ç•Œã€‚</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>æç¤º</div><div class="admonitionContent_BuS1"><p>å¦‚æœBè®¿é—®Cçš„mcsmanageræ§åˆ¶é¢æ¿ï¼Œéœ€è¦åœ¨Aé‡Œé¢åšDNSè§£æï¼Œåœ¨Cé‡Œé¢åšnginxä»£ç†ã€‚</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="changelog">CHANGELOG<a href="#changelog" class="hash-link" aria-label="CHANGELOGçš„ç›´æ¥é“¾æ¥" title="CHANGELOGçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<blockquote>
<p>created at: 2024-10-27T18:00<br>
modified at: 2024-11-01T23:09</p>
<ul>
<li>è¡¥é½äº†dnså’Œnginxéƒ¨åˆ†</li>
<li>åŠ å…¥äº†wireguard web GUI</li>
</ul>
<p>modified at: 2024-11-02T12:03</p>
<ul>
<li>åŠ ä¸Šäº†å¯¼è¯»</li>
<li>åˆ¶ä½œçŸ¥ä¹ç‰ˆå•æ–‡ä»¶ï¼Œgithubä»“åº“å¯è§</li>
</ul>
<p>modified at: 2024-11-04T02:03</p>
<ul>
<li>codeblock ç¾åŒ–</li>
</ul>
<p>modified at: 2024-11-04T17:12</p>
<ul>
<li>details-summary ç¾åŒ–å¤§å—ä»£ç </li>
</ul>
</blockquote></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><b>æ ‡ç­¾ï¼š</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a title="Blogs Written In Chinese" class="tag_zVej tagRegular_sFm0" href="/blog/tags/zh">zh</a></li><li class="tag_QGVx"><a title="All technical blogs" class="tag_zVej tagRegular_sFm0" href="/blog/tags/tech">tech</a></li><li class="tag_QGVx"><a title="Very good blogs, worth reading again and again" class="tag_zVej tagRegular_sFm0" href="/blog/tags/golden">golden</a></li></ul></div></div><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">æœ€å<!-- -->ç”± <b>jabberwocky238</b> <!-- -->äº <b><time datetime="2024-11-04T02:40:00.000Z" itemprop="dateModified">2024å¹´11æœˆ4æ—¥</time></b> <!-- -->æ›´æ–°</span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="åšæ–‡åˆ†é¡µå¯¼èˆª"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/2024/11/01/trojan-gfw"><div class="pagination-nav__sublabel">è¾ƒæ–°ä¸€ç¯‡</div><div class="pagination-nav__label">trojanä½¿ç”¨è®°å½•</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/2024/10/07/Recursive-and-Loop-rust"><div class="pagination-nav__sublabel">è¾ƒæ—§ä¸€ç¯‡</div><div class="pagination-nav__label">rustä¸­å˜æ¢é€’å½’ä¸ºå¾ªç¯çš„å¿…è¦æ€§</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#ä¸€å‰æƒ…æè¦" class="table-of-contents__link toc-highlight">ä¸€ï¼Œå‰æƒ…æè¦</a></li><li><a href="#äºŒopenvpn" class="table-of-contents__link toc-highlight">äºŒï¼ŒOpenVPN</a><ul><li><a href="#1-init" class="table-of-contents__link toc-highlight">1. init</a></li><li><a href="#2-serverconf" class="table-of-contents__link toc-highlight">2. server.conf</a></li><li><a href="#3-clientconfovpn" class="table-of-contents__link toc-highlight">3. client.conf(.ovpn)</a></li><li><a href="#4-å¯åŠ¨" class="table-of-contents__link toc-highlight">4. å¯åŠ¨</a></li><li><a href="#5-æµ‹è¯•" class="table-of-contents__link toc-highlight">5. æµ‹è¯•</a></li></ul></li><li><a href="#ä¸‰wireguard" class="table-of-contents__link toc-highlight">ä¸‰ï¼ŒWireGuard</a><ul><li><a href="#1-å•æœºé…ç½®" class="table-of-contents__link toc-highlight">1. å•æœºé…ç½®</a></li><li><a href="#2-å†…ç½‘è®¾å¤‡äº’è”" class="table-of-contents__link toc-highlight">2. å†…ç½‘è®¾å¤‡äº’è”</a></li><li><a href="#3-web-guiç®¡ç†å™¨" class="table-of-contents__link toc-highlight">3. Web GUIç®¡ç†å™¨</a></li></ul></li><li><a href="#å››dnsbind9-named" class="table-of-contents__link toc-highlight">å››ï¼ŒDNS(bind9, named)</a></li><li><a href="#äº”nginx" class="table-of-contents__link toc-highlight">äº”ï¼ŒNginx</a></li><li><a href="#changelog" class="table-of-contents__link toc-highlight">CHANGELOG</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2024 JW238, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>